<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha256-xejo6yLi6vGtAjcMIsY8BHdKsLg7QynVlFMzdQgUuy8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.12.3","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="java小豪的小破站">
<meta property="og:type" content="website">
<meta property="og:title" content="java小豪">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="java小豪">
<meta property="og:description" content="java小豪的小破站">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="java小豪">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>java小豪</title>
  






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">java小豪</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">javaxiaohao</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-首页"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-关于"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-标签"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-分类"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-schedule"><a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">java小豪</p>
  <div class="site-description" itemprop="description">java小豪的小破站</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/chzj1328" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/post/d5451151.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="java小豪">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="java小豪">
      <meta itemprop="description" content="java小豪的小破站">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | java小豪">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/d5451151.html" class="post-title-link" itemprop="url">小豪学Linux</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-08-24 02:13:45 / 修改时间：02:53:23" itemprop="dateCreated datePublished" datetime="2022-08-24T02:13:45+08:00">2022-08-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">操作系统</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>48k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>43 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="小豪学Linux（一）"><a href="#小豪学Linux（一）" class="headerlink" title="小豪学Linux（一）"></a>小豪学Linux（一）</h1><h2 id="1、课前小菜"><a href="#1、课前小菜" class="headerlink" title="1、课前小菜"></a>1、课前小菜</h2><h3 id="1、RPM软件包管理命令"><a href="#1、RPM软件包管理命令" class="headerlink" title="1、RPM软件包管理命令"></a>1、<strong>RPM软件包管理命令</strong></h3><ul>
<li><strong>安装软件的命令格式 rpm -ivh filename.rpm</strong>  </li>
<li><strong>升级软件的命令格式 rpm -Uvh filename.rpm</strong>  </li>
<li><strong>卸载软件的命令格式 rpm -e filename.rpm</strong>  </li>
<li><strong>查询软件描述信息的命令格式 rpm -qpi filename.rpm</strong>  </li>
<li><strong>列出软件文件信息的命令格式 rpm -qpl filename.rpm</strong>  </li>
<li><strong>查询文件属于哪个 RPM 的命令格式 rpm -qf filename</strong></li>
</ul>
<h3 id="2、YUM软件包管理命令"><a href="#2、YUM软件包管理命令" class="headerlink" title="2、YUM软件包管理命令"></a>2、<strong>YUM软件包管理命令</strong></h3><ul>
<li><strong>yum repolist all 				列出所有仓库</strong><br><strong>yum list all 					列出仓库中所有软件包</strong><br> <strong>yum info 软件包名称 			查看软件包信息</strong><br>  **yum install 软件包名称 		安装软件包 **<br>  <strong>yum reinstall 软件包名称		重新安装软件包</strong><br> <strong>yum update 软件包名称 		升级软件包</strong><br> <strong>yum remove 软件包 			移除软件包</strong><br> <strong>yum clean all 				清除所有仓库缓存</strong><br>  <strong>yum check-update 			检查可更新的软件包</strong><br> <strong>yum grouplist 				查看系统中已经安装的软件包组</strong><br> <strong>yum groupinstall 软件包组 	安装指定的软件包组</strong><br> <strong>yum groupremove 软件包组 	移除指定的软件包组</strong><br> <strong>yum groupinfo 软件包组 		查询指定的软件包组信息</strong></li>
</ul>
<h3 id="3、systemctl管理服务的常用命令"><a href="#3、systemctl管理服务的常用命令" class="headerlink" title="3、systemctl管理服务的常用命令"></a>3、<strong>systemctl管理服务的常用命令</strong></h3><ul>
<li><strong>systemctl start foo.service 				启动服务</strong><br><strong>systemctl restart foo.service 			重启服务</strong><br> <strong>systemctl stop foo.service 				停止服务</strong><br> <strong>systemctl reload foo.service 				重新加载配置文件（不终止服务）</strong><br> <strong>systemctl status foo.service 				查看服务状态</strong><br> <strong>systemctl enable foo.service 				开机自动启动</strong><br> <strong>systemctl disable foo.service 			开机不自动启动</strong><br> <strong>systemctl is-enabled foo.service			查看特定服务是否为开机自动启动</strong><br> <strong>systemctl list-unit-files –type&#x3D;service	查看各个级别下服务的启动与禁用情况</strong></li>
</ul>
<h2 id="2、新手必须掌握的Linux常用命令"><a href="#2、新手必须掌握的Linux常用命令" class="headerlink" title="2、新手必须掌握的Linux常用命令"></a>2、新手必须掌握的Linux常用命令</h2><h3 id="1-1、echo命令"><a href="#1-1、echo命令" class="headerlink" title="1.1、echo命令"></a>1.1、echo命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# echo chen</span><br><span class="line">chen</span><br><span class="line">[root@chenstudy ~]# echo $SHELL</span><br><span class="line">/bin/bash</span><br></pre></td></tr></table></figure>

<h3 id="1-2、date命令"><a href="#1-2、date命令" class="headerlink" title="1.2、date命令"></a>1.2、date命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看当前系统时间</span></span><br><span class="line">[root@chenstudy ~]# date</span><br><span class="line">2022年 04月 09日 星期六 22:32:21 CST</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">按照“年-月-日 小时:分钟:秒”的格式查看当前系统时间</span></span><br><span class="line">[root@chenstudy ~]# date &quot;+%Y-%m-%d %H:%M:%S&quot;</span><br><span class="line">2022-04-09 22:32:46</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将当前系统的时间设置为2022年04月0922点36分</span></span><br><span class="line">[root@chenstudy ~]# date -s &quot;20220409 22:36:00&quot;</span><br><span class="line">2022年 04月 09日 星期六 22:36:00 CST</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次使用<span class="built_in">date</span>查看系统当前时间</span></span><br><span class="line">[root@chenstudy ~]# date</span><br><span class="line">2022年 04月 09日 星期六 22:36:11 CST</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">dtae <span class="string">&quot;+j&quot;</span> 用来查看今天是当年中的第几天</span></span><br><span class="line">[root@chenstudy ~]# date &quot;+%j&quot;</span><br><span class="line">099</span><br></pre></td></tr></table></figure>

<h3 id="1-3、wget命令"><a href="#1-3、wget命令" class="headerlink" title="1.3、wget命令"></a>1.3、wget命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">wget 命令用于在终端中下载网络文件，格式为“wget [参数] 下载地址”。</span></span><br><span class="line">[root@chenstudy ~]# cd /home</span><br><span class="line">[root@chenstudy home]# wget http://www.linuxprobe.com/docs/LinuxProbe.pdf</span><br><span class="line"></span><br><span class="line">-b # 后台下载模式</span><br><span class="line">-P # 下载到指定目录</span><br><span class="line">-t # 最大尝试次数</span><br><span class="line">-c # 断点续传</span><br><span class="line">-p # 下载页面内所有资源，包括图片、视频等</span><br><span class="line">-r # 递归下载</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">wget 命令递归下载 www.linuxprobe.com 网站内的所有页面数据以及文件，下载完后会自动保存到当前路径下一个名为 www.linuxprobe.com 的目录中</span></span><br><span class="line">[root@chenstudy home]# wget -r -p http://www.linuxprobe.com，</span><br></pre></td></tr></table></figure>

<h3 id="1-4、ps命令"><a href="#1-4、ps命令" class="headerlink" title="1.4、ps命令"></a>1.4、ps命令</h3><ul>
<li>ps 命令用于查看系统中的进程状态，格式为“ps [参数]”</li>
<li>参数<ul>
<li><strong>-a # 显示所有进程（包括其他用户的进程）</strong></li>
<li><strong>-u # 用户以及其他详细信息</strong></li>
<li><strong>-x # 显示没有控制终端的进程</strong></li>
</ul>
</li>
<li>Linux的进程分为五个进程状态 运行、中断、不可中断、僵死与停止<ul>
<li>R（运行）：进程正在运行或在运行队列中等待。</li>
<li>S（中断）：进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该状态。</li>
<li>D（不可中断）：进程不响应系统异步信号，即便用 kill 命令也不能将其中断。</li>
<li>Z（僵死）：进程已经终止，但进程描述符依然存在, 直到父进程调用 wait4()系统函数后将进程释放。</li>
<li>T（停止）：进程收到停止信号后停止运行。</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# ps aux</span><br><span class="line">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class="line">root         1  0.0  0.1 125504  3440 ?        Ss   3月24   0:15 /usr/lib/systemd/systemd --switched-root --system --de</span><br><span class="line">root         2  0.0  0.0      0     0 ?        S    3月24   0:00 [kthreadd]</span><br><span class="line">root         4  0.0  0.0      0     0 ?        S&lt;   3月24   0:00 [kworker/0:0H]</span><br><span class="line">root         6  0.0  0.0      0     0 ?        S    3月24   0:18 [ksoftirqd/0]</span><br><span class="line">root         7  0.0  0.0      0     0 ?        S    3月24   0:00 [migration/0]</span><br><span class="line">root         8  0.0  0.0      0     0 ?        S    3月24   0:00 [rcu_bh]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">USER 		进程的所有者</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">PID  		进程ID号</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">%CPU 		运算器占用率</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">%MEM 		内存占用率</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VSZ		虚拟内存使用量（单位是 KB）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">RSS 		占用的固定内存量（单位是KB）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">TTY		所在终端</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">STAT		进程状态</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">START		被启动的时间</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">TIME 		实际使用CPU的时间</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">COMMAND	命令名称与参数</span></span><br></pre></td></tr></table></figure>

<h3 id="1-5、top-命令"><a href="#1-5、top-命令" class="headerlink" title="1.5、top 命令"></a>1.5、top 命令</h3><ul>
<li>top 命令用于动态地监视进程活动与系统负载等信息，其格式为 top</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# top</span><br></pre></td></tr></table></figure>

<ul>
<li>top 命令执行结果的前 5 行为系统整体的统计信息，其所代表的含义如下:<ul>
<li>第 1 行：系统时间、运行时间、登录终端数、系统负载（三个数值分别为 1 分钟、5分钟、15 分钟内的平均值，数值越小意味着负载越低）</li>
<li>第 2 行：进程总数、运行中的进程数、睡眠中的进程数、停止的进程数、僵死的进程数</li>
<li>第 3 行：用户占用资源百分比、系统内核占用资源百分比、改变过优先级的进程资源百分比、空闲的资源百分比等</li>
<li>第 4 行：物理内存总量、内存使用量、内存空闲量、作为内核缓存的内存量</li>
<li>第 5 行：虚拟内存总量、虚拟内存使用量、虚拟内存空闲量、已被提前加载的内存量</li>
</ul>
</li>
</ul>
<h3 id="1-6、pidof和kill命令"><a href="#1-6、pidof和kill命令" class="headerlink" title="1.6、pidof和kill命令"></a>1.6、pidof和kill命令</h3><ul>
<li>pidof 命令用于查询某个指定服务进程的 PID 值，格式为“pidof [参数 服务名称]” </li>
<li>kill 命令用于终止某个指定 PID 的服务进程，格式为“kill [参数 进程 PID]” </li>
<li>killall 命令用于终止某个指定名称的服务所对应的全部进程，格式为：“killall [参数 进程名称]”</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询本机上 sshd 服务程序的 PID</span></span><br><span class="line">[root@chenstudy ~]# pidof sshd</span><br><span class="line">24486 1156</span><br><span class="line">[root@chenstudy ~]# kill 1156</span><br><span class="line"></span><br><span class="line">[root@chenstudy ~]# pidof httpd</span><br><span class="line">[root@chenstudy ~]# killall httpd</span><br></pre></td></tr></table></figure>

<h3 id="1-7、ifconfig命令"><a href="#1-7、ifconfig命令" class="headerlink" title="1.7、ifconfig命令"></a>1.7、ifconfig命令</h3><ul>
<li>ifconfig 命令用于获取网卡配置与网络状态等信息，格式为“ifconfig [网络设备 参数]”</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# ifconfig</span><br></pre></td></tr></table></figure>

<h3 id="1-8、uname-命令"><a href="#1-8、uname-命令" class="headerlink" title="1.8、uname 命令"></a>1.8、uname 命令</h3><ul>
<li>uname 命令用于查看系统内核与系统版本等信息，格式为“uname [-a]” </li>
<li>查看当前系统版本的详细信息，则需要查看 redhat-release 文件，</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# uname -a</span><br><span class="line">Linux chenstudy 3.10.0-1160.53.1.el7.x86_64 #1 SMP Fri Jan 14 13:59:45 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux</span><br><span class="line">[root@chenstudy etc]# cat centos-release</span><br><span class="line">CentOS Linux release 7.9.2009 (Core)</span><br><span class="line">[root@chenstudy etc]# </span><br></pre></td></tr></table></figure>

<h3 id="1-9、uptime和free命令"><a href="#1-9、uptime和free命令" class="headerlink" title="1.9、uptime和free命令"></a>1.9、uptime和free命令</h3><ul>
<li>uptime 用于查看系统的负载信息，格式为 uptime<ul>
<li>它可以显示当前系统时间、系统已运行时间、启用终端数量以 及平均负载值等信息</li>
</ul>
</li>
<li>free 用于显示当前系统中内存的使用量信息，格式为“free [-h]”</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# uptime</span><br><span class="line"> 23:11:18 up 17 days,  6:46,  2 users,  load average: 0.05, 0.22, 0.28</span><br><span class="line">[root@chenstudy ~]# free -h</span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           1.8G        347M        192M        612K        1.3G        1.3G</span><br><span class="line">Swap:            0B          0B          0B</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">total 		内存总量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">used 			已用量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">free 			可用量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">shared		进程共享的内存量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">buff/cache	磁盘缓存的内存量/缓存的内存量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">available		可利用的内存量</span></span><br></pre></td></tr></table></figure>

<h3 id="1-10、who和last命令"><a href="#1-10、who和last命令" class="headerlink" title="1.10、who和last命令"></a>1.10、who和last命令</h3><ul>
<li><strong>who 用于查看当前登入主机的用户终端信息，格式为“who [参数]”</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# who</span><br><span class="line">root     pts/0        2022-04-10 20:07 (117.158.163.68)</span><br><span class="line">root     pts/1        2022-04-10 20:07 (117.158.163.68)</span><br><span class="line">[root@chenstudy ~]# </span><br></pre></td></tr></table></figure>

<p><strong>执行 who 命令的结果</strong> </p>
<table>
<thead>
<tr>
<th align="center">登录的用户名</th>
<th align="center">终端设备</th>
<th align="center">登录到系统的时间</th>
</tr>
</thead>
<tbody><tr>
<td align="center">root</td>
<td align="center">pts&#x2F;0</td>
<td align="center">2022-04-10 20:07 (117.158.163.68)</td>
</tr>
<tr>
<td align="center">root</td>
<td align="center">pts&#x2F;1</td>
<td align="center">2022-04-10 20:07 (117.158.163.68)</td>
</tr>
</tbody></table>
<ul>
<li><strong>last 命令用于查看所有系统的登录记录，格式为“last [参数]”</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用 last 命令可以查看本机的登录记录由于这些信息都是以日志文件的形式保存在系统中，因此黑客可以很容易地对内容进行篡改</span></span><br><span class="line">[root@chenstudy ~]# last</span><br><span class="line">root     pts/1        117.158.163.68   Sun Apr 10 20:07   still logged in   </span><br><span class="line">root     pts/0        117.158.163.68   Sun Apr 10 20:07   still logged in   </span><br><span class="line">root     pts/1        117.158.163.67   Sun Apr 10 15:12 - 19:27  (04:14)    </span><br><span class="line">root     pts/0        117.158.163.67   Sun Apr 10 15:12 - 19:27  (04:14)    </span><br><span class="line">root     pts/1        117.158.163.67   Sun Apr 10 08:29 - 12:27  (03:58)    </span><br><span class="line">root     pts/0        117.158.163.67   Sun Apr 10 08:29 - 12:27  (03:58)    </span><br><span class="line">root     pts/1        117.158.163.79   Sat Apr  9 22:25 - 23:49  (01:24)    </span><br><span class="line">root     pts/0        117.158.163.79   Sat Apr  9 22:25 - 23:49  (01:24)    </span><br><span class="line">root     pts/1        117.158.163.78   Thu Apr  7 08:39 - 08:42  (00:03)    </span><br><span class="line">root     pts/0        117.158.163.78   Thu Apr  7 08:39 - 08:42  (00:03)    </span><br><span class="line">root     pts/1        117.158.163.78   Wed Apr  6 16:22 - 20:14  (03:52)    </span><br><span class="line">root     pts/3        117.158.163.78   Wed Apr  6 15:45 - 20:14  (04:28)    </span><br><span class="line">root     pts/4        117.158.163.78   Wed Apr  6 15:38 - 15:40  (00:01)    </span><br></pre></td></tr></table></figure>

<h3 id="1-11、history和sosreport-命令"><a href="#1-11、history和sosreport-命令" class="headerlink" title="1.11、history和sosreport 命令"></a>1.11、history和sosreport 命令</h3><ul>
<li><strong>history 命令用于显示历史执行过的命令，格式为“history [-c]”</strong> <ul>
<li><strong>-c会清空所有的命令历史记录</strong></li>
</ul>
</li>
<li><strong>sosreport 命令用于收集系统配置及架构信息并输出诊断文档，格式为 sosreport</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# history</span><br><span class="line">    1  clear</span><br><span class="line">    2  cd /</span><br><span class="line">    3  uname -f</span><br><span class="line">    4  clear</span><br><span class="line">    5  uname -r</span><br><span class="line">    6  clear</span><br><span class="line">    7  cat /etc/os-release</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">历史命令会被保存到用户家目录中的.bash_history 文件中</span></span><br><span class="line">[root@chenstudy ~]# cat ~/.bash_history</span><br><span class="line">clear</span><br><span class="line">cd /</span><br><span class="line">uname -f</span><br><span class="line">clear</span><br><span class="line">uname -r</span><br><span class="line">clear</span><br><span class="line">cat /etc/os-release</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">清空当前用户在本机上执行的Linux命令历史记录</span></span><br><span class="line">[root@chenstudy ~]# history -c</span><br></pre></td></tr></table></figure>

<h3 id="2-1、pwd、cd、ls命令"><a href="#2-1、pwd、cd、ls命令" class="headerlink" title="2.1、pwd、cd、ls命令"></a>2.1、pwd、cd、ls命令</h3><ul>
<li><strong>pwd 命令用于显示用户当前所处的工作目录，格式为“pwd [选项]”</strong> </li>
<li><strong>cd 命令用于切换工作路径，格式为“cd [目录名称]”</strong> </li>
<li><strong>ls 命令用于显示目录中的文件信息，格式为“ls [选项  文件] ”</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# pwd</span><br><span class="line">/root</span><br><span class="line">[root@chenstudy ~]# cd /home</span><br><span class="line">[root@chenstudy home]# ls</span><br><span class="line">ceshi  chen  chen.java  dockerfile  LinuxProbe.pdf  mysql  test.java</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用 <span class="built_in">ls</span> 命令的“-a”参数看到全部文件（包括隐藏文件）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用“-l”参数可以查看文件的属性、大小等详细信息</span></span><br><span class="line">[root@chenstudy home]# ls -al</span><br><span class="line">总用量 17288</span><br><span class="line">drwxr-xr-x.  6 root root     4096 4月   9 22:52 .</span><br><span class="line">dr-xr-xr-x. 18 root root     4096 3月  24 16:24 ..</span><br><span class="line">drwxr-xr-x   2 root root     4096 4月   2 09:29 ceshi</span><br><span class="line">drwxr-xr-x   3 root root     4096 4月   6 15:32 chen</span><br><span class="line">-rw-r--r--   1 root root        0 3月  30 23:26 chen.java</span><br><span class="line">drwxr-xr-x   2 root root     4096 4月   5 10:54 dockerfile</span><br><span class="line">-rw-r--r--   1 root root 17676281 9月  22 2020 LinuxProbe.pdf</span><br><span class="line">drwxr-xr-x   4 root root     4096 4月   2 09:49 mysql</span><br><span class="line">-rw-r--r--   1 root root        0 3月  30 23:28 test.java</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看目录属性信息，则需要额外添加一个-d 参数</span></span><br><span class="line">[root@chenstudy home]# ls -ld /etc</span><br><span class="line">drwxr-xr-x. 78 root root 4096 3月  29 18:00 /etc</span><br><span class="line">[root@chenstudy home]# </span><br></pre></td></tr></table></figure>

<h3 id="2-2、touch、mkdir、cp命令"><a href="#2-2、touch、mkdir、cp命令" class="headerlink" title="2.2、touch、mkdir、cp命令"></a>2.2、touch、mkdir、cp命令</h3><ul>
<li><strong>touch 命令用于创建空白文件或设置文件的时间，格式为“touch [选项  文件]”</strong> <ul>
<li><strong>b-a 仅修改“读取时间”（atime）</strong> </li>
<li><strong>-m 仅修改“修改时间”（mtime）</strong> </li>
<li><strong>-d 同时修改 atime 与 mtime</strong></li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# ls</span><br><span class="line">ceshi  chen  chen.java  dockerfile  LinuxProbe.pdf  mysql  test.java</span><br><span class="line">[root@chenstudy home]# ls -l chen.java </span><br><span class="line">-rw-r--r-- 1 root root 54 4月  11 14:24 chen.java</span><br><span class="line">[root@chenstudy home]# echo &quot;System.out.println(&quot;Hello&quot;);&quot; &gt;&gt; chen.java </span><br><span class="line">[root@chenstudy home]# ls -l chen.java </span><br><span class="line">-rw-r--r-- 1 root root 81 4月  11 14:25 chen.java</span><br><span class="line">[root@chenstudy home]# touch -d &quot;2021-06-28 15:44&quot; chen.java </span><br><span class="line">[root@chenstudy home]# ls -l chen.java </span><br><span class="line">-rw-r--r-- 1 root root 81 6月  28 2021 chen.java</span><br><span class="line">[root@chenstudy home]# </span><br></pre></td></tr></table></figure>

<ul>
<li><strong>mkdir 命令用于创建空白的目录，格式为“mkdir [选项] 目录”</strong> <ul>
<li><strong>-p 参数来递归创建出具有嵌套叠层关系的文件目录</strong></li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# mkdir linux</span><br><span class="line">[root@chenstudy home]# cd linux/</span><br><span class="line">[root@chenstudy linux]# mkdir -p a/b/c</span><br><span class="line">[root@chenstudy linux]# cd a/</span><br><span class="line">[root@chenstudy a]# cd b/</span><br><span class="line">[root@chenstudy b]# </span><br></pre></td></tr></table></figure>



<ul>
<li><strong>cp 命令用于复制文件或目录，格式为“cp [选项] 源文件 目标文件”</strong> <ul>
<li><strong>-p 保留原始文件的属性</strong> </li>
<li><strong>-d 若对象为“链接文件”，则保留该“链接文件”的属性</strong> </li>
<li><strong>-r 递归持续复制（用于目录）</strong> </li>
<li><strong>-i 若目标文件存在则询问是否覆盖</strong> </li>
<li><strong>-a 相当于-pdr（p、d、r 为上述参数）</strong></li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy linux]# touch install.log</span><br><span class="line">[root@chenstudy linux]# cp install.log x.log</span><br><span class="line">[root@chenstudy linux]# ls</span><br><span class="line">a  install.log  x.log</span><br><span class="line">[root@chenstudy linux]# </span><br></pre></td></tr></table></figure>

<h3 id="2-3、mv、rm、dd和file命令"><a href="#2-3、mv、rm、dd和file命令" class="headerlink" title="2.3、mv、rm、dd和file命令"></a>2.3、mv、rm、dd和file命令</h3><ul>
<li><strong>mv 命令用于剪切文件或将文件重命名，格式为“mv [选项] 源文件 [目标路径|目标文件名]”</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy linux]# mv x.log linux.log</span><br><span class="line">[root@chenstudy linux]# ls</span><br><span class="line">a  install.log  linux.log</span><br><span class="line">[root@chenstudy linux]# </span><br></pre></td></tr></table></figure>

<ul>
<li><strong>rm 命令用于删除文件或目录，格式为“rm [选项] 文件”</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy linux]# rm install.log </span><br><span class="line">rm：是否删除普通空文件 &quot;install.log&quot;？y</span><br><span class="line">[root@chenstudy linux]# ls</span><br><span class="line">a  linux.log</span><br><span class="line">[root@chenstudy linux]# rm -f linux.log </span><br><span class="line">[root@chenstudy linux]# ls</span><br><span class="line">a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除目录</span></span><br><span class="line">[root@chenstudy linux]# rm -rf a</span><br><span class="line">[root@chenstudy linux]# ls</span><br><span class="line">[root@chenstudy linux]# </span><br></pre></td></tr></table></figure>

<ul>
<li><strong>dd 命令用于按照指定大小和个数的数据块来复制文件或转换文件，格式为“dd [参数]”</strong> <ul>
<li><strong>if 输入的文件名称</strong> </li>
<li><strong>of 输出的文件名称</strong></li>
<li><strong>bs 设置每个“块”的大小</strong> </li>
<li><strong>count 设置要复制“块”的个数</strong></li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/dev/zero 设备文件中取出一个大小为 560MB 的数据块,保存成名为 560_file 的文件</span></span><br><span class="line">[root@chenstudy home]# dd if=/dev/zero of=560_file count=1 bs=560MB</span><br><span class="line">记录了1+0 的读入</span><br><span class="line">记录了1+0 的写出</span><br><span class="line">560000000字节(560 MB)已复制，4.66672 秒，120 MB/秒</span><br><span class="line">[root@chenstudy home]# </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">dd</span>命令可以把光驱设备中的光盘制作成 iso 格式的镜像文件</span></span><br><span class="line">[root@chenstudy home]#  dd if=/dev/cdrom of=RHEL-server-7.0-x86_64-LinuxProbe.Com.iso</span><br><span class="line">7311360+0 records in</span><br><span class="line">7311360+0 records out</span><br><span class="line">3743416320 bytes (3.7 GB) copied, 370.758 s, 10.1 MB/s</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>file 命令用于查看文件的类型，格式为“file 文件名”</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# file chen.java </span><br><span class="line">chen.java: ASCII text</span><br><span class="line">[root@chenstudy home]# file /home/dockerfile/</span><br><span class="line">/home/dockerfile/: directory</span><br><span class="line">[root@chenstudy home]# </span><br></pre></td></tr></table></figure>

<h3 id="2-4、tar、grep和find命令"><a href="#2-4、tar、grep和find命令" class="headerlink" title="2.4、tar、grep和find命令"></a>2.4、tar、grep和find命令</h3><ul>
<li><strong>tar 命令用于对文件进行打包压缩或解压，格式为“tar [选项 文件]”</strong> <ul>
<li><strong>-c 创建压缩文件</strong> </li>
<li><strong>-x 解开压缩文件</strong> </li>
<li><strong>-t 查看压缩包内有哪些文件</strong> </li>
<li><strong>-z 用 Gzip 压缩或解压</strong> </li>
<li><strong>-j 用 bzip2 压缩或解压</strong> </li>
<li><strong>-v 显示压缩或解压的过程</strong> </li>
<li><strong>-f 目标文件名</strong> </li>
<li><strong>-p 保留原始的权限与属性</strong> </li>
<li><strong>-P 使用绝对路径来压缩</strong> </li>
<li><strong>-C 指定解压到的目录</strong></li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# tar -czvf etc.tar.gz /etc </span><br><span class="line">tar: 从成员名中删除开头的“/”</span><br><span class="line">/etc/</span><br><span class="line">/etc/depmod.d/</span><br><span class="line">/etc/depmod.d/dist.conf</span><br><span class="line">/etc/sudoers</span><br><span class="line">/etc/gss/</span><br><span class="line">/etc/gss/mech.d/</span><br><span class="line">/etc/anacrontab</span><br><span class="line">/etc/wgetrc</span><br><span class="line">/etc/python/</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将打包后的压缩包文件指定解压到/root/etc 目录中</span></span><br><span class="line">[root@chenstudy home]# mkdir /root/etc</span><br><span class="line">[root@chenstudy home]# tar xzvf etc.tar.gz -C /root/etc</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>grep 命令用于在文本中执行关键词搜索，并显示匹配的结果，格式为“grep [选项 文件]”</strong> <ul>
<li><strong>-b 将可执行文件（binary）当作文本文件（text）来搜索</strong> </li>
<li><strong>-c 仅显示找到的行数</strong> </li>
<li><strong>-i 忽略大小写</strong> </li>
<li><strong>-n 显示行号</strong> </li>
<li><strong>-v 反向选择—仅列出没有“关键词”的行</strong></li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# grep /sbin/nologin /etc/passwd</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">games:x:12:100:games:/usr/games:/sbin/nologin</span><br><span class="line">ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin</span><br><span class="line">nobody:x:99:99:Nobody:/:/sbin/nologin</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>find 命令用于按照指定条件来查找文件，格式为“find [查找路径] 寻找条件 操作”</strong> <ul>
<li><strong>-name 匹配名称</strong> </li>
<li><strong>-perm 匹配权限（mode 为完全匹配，-mode 为包含即可）</strong> </li>
<li><strong>-user 匹配所有者</strong> </li>
<li><strong>-group 匹配所有组</strong> </li>
<li><strong>-mtime -n +n 匹配修改内容的时间（-n 指 n 天以内，+n 指 n 天以前）</strong> </li>
<li><strong>-atime -n +n 匹配访问文件的时间（-n 指 n 天以内，+n 指 n 天以前）</strong> </li>
<li><strong>-ctime -n +n 匹配修改文件权限的时间（-n 指 n 天以内，+n 指 n 天以前）</strong> </li>
<li><strong>-nouser 匹配无所有者的文件</strong> </li>
<li><strong>-nogroup 匹配无所有组的文件</strong> </li>
<li><strong>-newer f1 !f2 匹配比文件 f1 新但比 f2 旧的文件</strong> </li>
<li><strong>–type b&#x2F;d&#x2F;c&#x2F;p&#x2F;l&#x2F;f 匹配文件类型（后面的字幕参数依次表示块设备、目录、字符设备、管道、 链接文件、文本文件）</strong> </li>
<li><strong>-size  匹配文件的大小（+50KB 为查找超过 50KB 的文件，而-50KB 为查找小于 50KB 的文件）</strong> </li>
<li><strong>-prune 忽略某个目录</strong> </li>
<li><strong>-exec …… {};    后面可跟用于进一步处理搜索结果的命令（下文会有演示）</strong></li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# find /etc -name &quot;host*&quot; -print</span><br><span class="line">/etc/hosts.allow</span><br><span class="line">/etc/hosts.deny</span><br><span class="line">/etc/host.conf</span><br><span class="line">/etc/hostname</span><br><span class="line">/etc/cloud/templates/hosts.suse.tmpl</span><br><span class="line">/etc/cloud/templates/hosts.debian.tmpl</span><br><span class="line">/etc/cloud/templates/hosts.freebsd.tmpl</span><br><span class="line">/etc/cloud/templates/hosts.redhat.tmpl</span><br><span class="line">/etc/selinux/targeted/active/modules/100/hostname</span><br><span class="line">/etc/hosts</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">要在整个系统中搜索权限中包括 SUID 权限的所有文件只需使用-4000 即可</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">CentOS 报错未知断言 Red Hat里可以</span></span><br><span class="line">[root@chenstudy home]# find / -perm -4000 -print</span><br><span class="line">/usr/bin/fusermount</span><br><span class="line">/usr/bin/su</span><br><span class="line">/usr/bin/umount</span><br><span class="line">/usr/bin/passwd</span><br><span class="line">/usr/sbin/userhelper</span><br><span class="line">/usr/sbin/usernetctl </span><br></pre></td></tr></table></figure>

<h3 id="小结：复习题"><a href="#小结：复习题" class="headerlink" title="小结：复习题"></a>小结：复习题</h3><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">1．在 RHEL 7 系统及众多的 Linux 系统中，最常使用的 Shell 终端是什么？</span><br><span class="line">	答：Bash（Bourne-Again SHell）解释器。 </span><br><span class="line">2．执行 Linux 系统命令时，添加参数的目的是什么？</span><br><span class="line">	答：为了让 Linux 系统命令能够更贴合用户的实际需求进行工作。</span><br><span class="line">3．Linux 系统命令、命令参数及命令对象之间，普遍应该使用什么来间隔？</span><br><span class="line">	答：应该使用一个或多个空格进行间隔。</span><br><span class="line">4．请写出用 echo 命令把 SHELL 变量值输出到屏幕终端的命令。</span><br><span class="line">	答：echo $SHELL。</span><br><span class="line">5．简述 Linux 系统中 5 种进程的名称及含义。</span><br><span class="line">	答：在 Linux 系统中，有下面 5 种进程名称。</span><br><span class="line">		R（运行）：进程正在运行或在运行队列中等待。</span><br><span class="line">		S（中断）：进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该状态。</span><br><span class="line">		D（不可中断）：进程不响应系统异步信号，即便用 kill 命令也不能将其中断。</span><br><span class="line">		Z（僵死）：进程已经终止，但进程描述符依然存在, 直到父进程调用 wait4()系统函数后将进程释放。</span><br><span class="line">		T（停止）：进程收到停止信号后停止运行。</span><br><span class="line">6．请尝试使用 Linux 系统命令关闭 PID 为 5529 的服务进程。</span><br><span class="line">	答：执行 kill 5529 命令即可；若知道服务的名称，则可以使用 killall 命令进行关闭。</span><br><span class="line">7．使用 ifconfig 命令查看网络状态信息时，需要重点查看的 4 项信息分别是什么？</span><br><span class="line">	答：这 4 项重要信息分别是网卡名称、IP 地址、网卡物理地址以及 RX/TX 的收发流量数据大小。</span><br><span class="line">8．使用 uptime 命令查看系统负载时，对应的负载数值如果是 0.91、0.56、0.32，那么最近15分钟内负载压力最大的是哪个时间段？</span><br><span class="line">	答：通过负载数值可以看出，最近 1 分钟内的负载压力是最大的。</span><br><span class="line">9．使用 history 命令查看历史命令的执行记录时，命令前面的数字除了排序外还有什么用处？</span><br><span class="line">	答：还可以用“!数字”的命令格式重复执行某一次的命令记录，从而避免了重复输入较长命令的麻烦。</span><br><span class="line">10．若想查看的文件具有较长的内容，那么使用 cat、more、head、tail 中的哪个命令最</span><br><span class="line">合适？</span><br><span class="line">	答：文件内容较长，使用 more 命令；反之使用 cat 命令。</span><br><span class="line">11．在使用 mkdir 命令创建有嵌套关系的目录时，应该加上什么参数呢？</span><br><span class="line">	答：应该加上-p 递归迭代参数，从而自动化创建有嵌套关系的目录。</span><br><span class="line">12．在使用 rm 命令删除文件或目录时，可使用哪个参数来避免二次确认呢？</span><br><span class="line">	答：可使用-f 参数，这样即可无需二次确认。</span><br><span class="line">13．若有一个名为 backup.tar.gz 的压缩包文件，那么解压的命令应该是什么？</span><br><span class="line">	答：应该用 tar 命令进行解压，执行 tar -xzvf backup.tar.gz 命令即可。</span><br><span class="line">14．使用 grep 命令对某个文件进行关键词搜索时，若想要进行文件内容反选，应使用什么</span><br><span class="line">参数？</span><br><span class="line">	答：可使用-v 参数来进行匹配内容的反向选择，即显示出不包含某个关键词的行。</span><br></pre></td></tr></table></figure>

<h2 id="3、管道符、重定向与环境变量"><a href="#3、管道符、重定向与环境变量" class="headerlink" title="3、管道符、重定向与环境变量"></a>3、管道符、重定向与环境变量</h2><h3 id="3-1、输入输出重定向"><a href="#3-1、输入输出重定向" class="headerlink" title="3.1、输入输出重定向"></a>3.1、输入输出重定向</h3><ul>
<li>标准输入重定向(STDIN，文件描述符为0)默认从键盘输入，还可以从其他文件或命令输入</li>
<li>标准输出重定向(STDOUT,文件描述符为1):默认输出到屏幕</li>
<li>错误输出重定向(STDERR,文件描述符为2):默认输出到屏幕</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# cd /home</span><br><span class="line">[root@chenstudy home]# touch linux</span><br><span class="line">[root@chenstudy home]# ls -l linux </span><br><span class="line">-rw-r--r--. 1 root root 0 4月  14 19:48 linux</span><br><span class="line">[root@chenstudy home]# ls -l xxxxx</span><br><span class="line">ls: 无法访问xxxxx: 没有那个文件或目录</span><br><span class="line">[root@chenstudy home]# </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在上述命令中，名为 linux 的文件是存在的，输出信息是该文件的一些相关权限、所有者、所属组、文件大小及修改时间等信息，这也是该命令的标准输出信息,而名为 xxxxxx的第二个文件是不存在的，因此在执行完 <span class="built_in">ls</span> 命令之后显示的报错提示信息也是该命令的错误输出信息</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>输入重定向中用到的符号及其作用</strong></li>
</ul>
<table>
<thead>
<tr>
<th align="left">符号</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">命令  &lt; 文件</td>
<td align="left">将文件作为命令的标准输入</td>
</tr>
<tr>
<td align="left">命令 &lt; &lt; 分界符</td>
<td align="left">从标准输入中读入，直到遇见分界符才停止</td>
</tr>
<tr>
<td align="left">命令 &lt; 文件 1 &gt; 文件 2</td>
<td align="left">将文件 1 作为命令的标准输入并将标准输出到文件 2</td>
</tr>
</tbody></table>
<ul>
<li><strong>输出重定向中用到的符号及其作用</strong></li>
</ul>
<table>
<thead>
<tr>
<th align="center">符号</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">命令 &gt; 文件</td>
<td align="center">将标准输出重定向到一个文件中（清空原有文件的数据）</td>
</tr>
<tr>
<td align="center">命令 2&gt; 文件</td>
<td align="center">将错误输出重定向到一个文件中（清空原有文件的数据）</td>
</tr>
<tr>
<td align="center">命令 &gt;&gt; 文件</td>
<td align="center">将标准输出重定向到一个文件中（追加到原有内容的后面）</td>
</tr>
<tr>
<td align="center">命令 2&gt;&gt; 文件</td>
<td align="center">将错误输出重定向到一个文件中（追加到原有内容的后面）</td>
</tr>
<tr>
<td align="center">命令 &gt;&gt; 文件 2&gt;&amp;1 或 命令 &amp;&gt;&gt; 文件</td>
<td align="center">将标准输出与错误输出共同写入到文件中（追加到原有内容的 后面）</td>
</tr>
</tbody></table>
<p><strong>对于重定向中的标准输出模式，可以省略文件描述符 1 不写 而错误输出模式的文件描述符 2 是必须要写的</strong> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">通过标准输出重定向将 man bash 命令原本要输出到屏幕的信息写入到文件readme.txt 中，然后显示readme.txt 文件中的内容</span></span><br><span class="line">[root@chenstudy home]# man bash &gt; readme.txt</span><br><span class="line">[root@chenstudy home]# cat readme.txt </span><br><span class="line"> -c string 如果有 -c 选项，那么命令将从 string 中读取。如果 string 后面有参数 (argument)，它们将用于给位置参数 (positional parameter，以 $0 起始) 赋值。</span><br><span class="line">       -i        如果有 -i 选项，shell 将交互地执行 ( interactive )。</span><br><span class="line">       -l        选项使得 bash 以类似登录 shell (login shell) 的方式启动 (参见下面的 启</span><br><span class="line">       -r        如果有 -r 选项，shell 成为受限的 ( restricted ) (参见下面的 受</span><br><span class="line">       -s        如果有 -s 选项，或者如果选项处理完以后，没有参数剩余，那么命令将从标准输入读取。 这个选项允许在启动一个交互 shell 时可以设置位置参数。</span><br><span class="line">       -D        向标准输出打印一个以 $ 为前导的，以双引号引用的字符串列表。 这是在当前语言环境不是 C 或 POSIX 时，脚本中需要翻译的字符串。 这个选项隐含了 -n 选项；不会执行命令。</span><br><span class="line">       [-+]O [shopt_option]</span><br><span class="line">                 shopt_option  是一个  shopt  内建命令可接受的选项  (参见下面的  shell  内</span><br><span class="line">                 取消它。 如果没有给出 shopt_option，shopt 将在标准输出上打印设为允许的选项的名称和值。 如果启动选项是 +O，输出将以一种可以重用为输入的格式显示。</span><br><span class="line">       --        -- 标志选项的结束，禁止其余的选项处理。任何 -- 之后的参数将作为文件名和参数对待。参数 - 与此等价。</span><br><span class="line"></span><br><span class="line">       Bash 也解释一些多字节的选项。在命令行中，这些选项必须置于需要被识别的单字符参数之前。</span><br><span class="line"></span><br><span class="line">       --dump-po-strings</span><br><span class="line">              等价于 -D，但是输出是 GNU gettext po (可移植对象) 文件格式</span><br><span class="line">       --dump-strings</span><br><span class="line">              等价于 -D</span><br><span class="line">       --help 在标准输出显示用法信息并成功退出</span><br><span class="line">       --init-file file</span><br></pre></td></tr></table></figure>

<p><strong>重写readme.txt文件，并写入：Wlecome to XYNU,然后再追加Hello 22</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# echo &quot;Wlecome to XYNU&quot; &gt; readme.txt </span><br><span class="line">[root@chenstudy home]# echo &quot;Hello 22&quot; &gt;&gt; readme.txt </span><br><span class="line">[root@chenstudy home]# cat readme.txt </span><br><span class="line">Wlecome to XYNU</span><br><span class="line">Hello 22</span><br></pre></td></tr></table></figure>

<p><strong>对于输处重定向技术，不同命令的标准输出和错误输出还是有区别的</strong></p>
<p>对于真实存在的文件，使用标准输出即将原本输出到屏幕的信息写入到文件中，而错误的输出重定向则依然把信息输出到屏幕上</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# ls -l linux </span><br><span class="line">-rw-r--r--. 1 root root 0 4月  14 19:48 linux</span><br><span class="line">[root@chenstudy home]# ls -l linux &gt; /root/stderr.txt</span><br><span class="line">[root@chenstudy home]# ls -l linux 2&gt; /root/stderr.txt</span><br><span class="line">-rw-r--r--. 1 root root 0 4月  14 19:48 linux</span><br><span class="line">[root@chenstudy home]# </span><br></pre></td></tr></table></figure>

<p><strong>如何把错误信息写入到文件中呢？</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# ls -l xxxx</span><br><span class="line">ls: 无法访问xxxx: 没有那个文件或目录</span><br><span class="line">[root@chenstudy home]# ls -l xxxx &gt; /root/stderr.txt</span><br><span class="line">ls: 无法访问xxxx: 没有那个文件或目录</span><br><span class="line">[root@chenstudy home]# ls -l xxxx 2&gt; /root/stderr.txt</span><br><span class="line">[root@chenstudy home]# cat /root/stderr.txt </span><br><span class="line">ls: 无法访问xxxx: 没有那个文件或目录</span><br><span class="line">[root@chenstudy home]# </span><br></pre></td></tr></table></figure>

<h3 id="3-2、-管道命令符"><a href="#3-2、-管道命令符" class="headerlink" title="3.2、 管道命令符"></a>3.2、 管道命令符</h3><p>**执行格式为“命令 A | 命令 B” **</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">找出被限制登录用户的命令是 grep <span class="string">&quot;/sbin/nologin&quot;</span> /etc/passwd；</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">统计文本行数的命令则是 <span class="built_in">wc</span> -l</span></span><br><span class="line">[root@chenstudy home]# grep &quot;/sbin/nologin&quot; /etc/passwd | wc -l</span><br><span class="line">39</span><br><span class="line">[root@chenstudy home]# </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看/etc 目录中的文件列表及属性信息</span></span><br><span class="line">[root@chenstudy home]# ls -l /etc/ | more</span><br></pre></td></tr></table></figure>

<p><strong>在修改用户密码时，通常都需要输入两次密码以进行确认，这在编写自动化脚本时将成 第3章 管道符、重定向与环境变量 64 为一个非常致命的缺陷。通过把管道符和 passwd 命令的–stdin 参数相结合，我们可以用一条 命令来完成密码重置操作:</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# echo &quot;root&quot; | passwd --stdin root</span><br><span class="line">更改用户 root 的密码 。</span><br><span class="line">passwd：所有的身份验证令牌已经成功更新。</span><br><span class="line">[root@chenstudy home]# </span><br></pre></td></tr></table></figure>

<p><strong>管道符命令可以组合使用多个命令A | 命令B | 命令C</strong></p>
<h3 id="3-3、命令行统配符"><a href="#3-3、命令行统配符" class="headerlink" title="3.3、命令行统配符"></a>3.3、命令行统配符</h3><p><strong>我们有时候也会遇到明明一 个文件的名称就在嘴边但就是想不起来的情况批量查看所有硬 盘文件的相关权限属性，一种方式是这样的：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy home]# ls -l /dev/sda</span><br><span class="line">brw-rw----. 1 root disk 8, 0 4月  14 19:40 /dev/sda</span><br><span class="line">[root@chenstudy home]# ls -l /dev/sda1</span><br><span class="line">brw-rw----. 1 root disk 8, 1 4月  14 19:40 /dev/sda1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">通配符就是通用的匹配信息的符号，比如星号（*）代表匹配零个或多个字符，问号（?）代表匹配单个字符，中括号内加上数字[0-9]代表匹配 0～9之间的单个数字的字符，而中括号内加上字母[abc]则是代表匹配 a、b、c 三个字符中的任意一个字符</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">比如星号（*）代表匹配零个或多个字符</span></span><br><span class="line">[root@chenstudy home]# ls -l /dev/sda*</span><br><span class="line">brw-rw----. 1 root disk 8, 0 4月  14 19:40 /dev/sda</span><br><span class="line">brw-rw----. 1 root disk 8, 1 4月  14 19:40 /dev/sda1</span><br><span class="line">brw-rw----. 1 root disk 8, 2 4月  14 19:40 /dev/sda2</span><br><span class="line">brw-rw----. 1 root disk 8, 3 4月  14 19:40 /dev/sda3</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">只想查看文件名为 sda 开头，但是后面还紧跟其他某一个字符的文件的相关信息就需要用到问号来进行通配了</span></span><br><span class="line">[root@chenstudy home]# ls -l /dev/sda?</span><br><span class="line">brw-rw----. 1 root disk 8, 1 4月  14 19:40 /dev/sda1</span><br><span class="line">brw-rw----. 1 root disk 8, 2 4月  14 19:40 /dev/sda2</span><br><span class="line">brw-rw----. 1 root disk 8, 3 4月  14 19:40 /dev/sda3</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">匹配任意的数字0-9</span></span><br><span class="line">[root@chenstudy home]# ls -l /dev/sda[0-9]</span><br><span class="line">brw-rw----. 1 root disk 8, 1 4月  14 19:40 /dev/sda1</span><br><span class="line">brw-rw----. 1 root disk 8, 2 4月  14 19:40 /dev/sda2</span><br><span class="line">brw-rw----. 1 root disk 8, 3 4月  14 19:40 /dev/sda3</span><br><span class="line">[root@chenstudy home]# ls -l /dev/sda[135]</span><br><span class="line">brw-rw----. 1 root disk 8, 1 4月  14 19:40 /dev/sda1</span><br><span class="line">brw-rw----. 1 root disk 8, 3 4月  14 19:40 /dev/sda3</span><br></pre></td></tr></table></figure>

<h3 id="3-4、-常用的转义字符"><a href="#3-4、-常用的转义字符" class="headerlink" title="3.4、 常用的转义字符"></a>3.4、 常用的转义字符</h3><p><strong>常用的转义字符：为了能够更好地理解用户的表达，Shell 解释器还提供了特别丰富的转义字符来处理输入 的特殊数据</strong> </p>
<ul>
<li><strong>反斜杠（\）：使反斜杠后面的一个变量变为单纯的字符串</strong></li>
<li><strong>反斜杠（\）：使反斜杠后面的一个变量变为单纯的字符串</strong> </li>
<li><strong>双引号（””）：保留其中的变量属性，不进行转义处理</strong> </li>
<li><strong>反引号（&#96;&#96;）：把其中的命令执行后返回结果</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">先定义一个名为 PRICE 的变量并赋值为 5，然后输出以双引号括起来的字符串与变量信息：</span></span><br><span class="line">[root@chenstudy ~]# PRICE=5</span><br><span class="line">[root@chenstudy ~]# echo &quot;PRICE IS $PRICE&quot;</span><br><span class="line">PRICE IS 5</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">输出“Price is <span class="variable">$5</span>”</span></span><br><span class="line">[root@chenstudy ~]# echo &quot;PRICE IS \$$PRICE&quot;</span><br><span class="line">PRICE IS $5</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">反引号与 <span class="built_in">uname</span> -a 命令结合，然后使用 <span class="built_in">echo</span> 命令来查看本机的 Linux版本和内核信息：</span></span><br><span class="line">[root@chenstudy ~]# echo `uname -a` </span><br><span class="line">Linux chenstudy 3.10.0-1160.el7.x86_64 #1 SMP Mon Oct 19 16:18:59 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</span><br></pre></td></tr></table></figure>

<h3 id="3-5、重要的环境变量"><a href="#3-5、重要的环境变量" class="headerlink" title="3.5、重要的环境变量"></a>3.5、重要的环境变量</h3><ul>
<li>判断用户是否以绝对路径或相对路径的方式输入命令（如&#x2F;bin&#x2F;ls），如果是的话 则直接执行 </li>
<li>Linux 系统检查用户输入的命令是否为“别名命令”，即用一个自定义的命令 名称来替换原本的命令名称 <ul>
<li>用 alias 命令来创建一个属于自己的命令别名，格式为 “alias 别名&#x3D;命令” </li>
<li>要取消一个命令别名，则是用 unalias 命令，格式为“unalias 别名”</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# ls</span><br><span class="line">anaconda-ks.cfg  ch  initial-setup-ks.cfg  stderr.txt  公共  模板  视频  图片  文档  下载  音乐  桌面</span><br><span class="line">[root@chenstudy ~]# rm anaconda-ks.cfg </span><br><span class="line">rm：是否删除普通文件 &quot;anaconda-ks.cfg&quot;？y</span><br><span class="line">[root@chenstudy ~]# alias rm </span><br><span class="line">alias rm=&#x27;rm -i&#x27;</span><br><span class="line">[root@chenstudy ~]# unalias rm</span><br><span class="line">[root@chenstudy ~]# rm initial-setup-ks.cfg </span><br><span class="line">[root@chenstudy ~]# </span><br></pre></td></tr></table></figure>

<ul>
<li>Bash 解释器判断用户输入的是内部命令还是外部命令 ，可以使用“type 命令名称”来判断用户输入的命令是内部命令还是外部命令 </li>
<li>系统在多个路径中查找用户输入的命令文件，而定义这些路径的变量叫作 PATH，可 以简单地把它理解是“解释器的小助手”，作用是告诉 Bash 解释器待执行的命令可能存放 的位置，然后 Bash 解释器就会乖乖地在这些位置中逐个查找</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# echo $PATH</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">[root@chenstudy ~]# PATH=$PATH:/root/bin</span><br><span class="line">[root@chenstudy ~]# echo $PATH</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/root/bin</span><br><span class="line">[root@chenstudy ~]#</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Linux 系统中最重要的 10 个环境变量</strong></li>
</ul>
<table>
<thead>
<tr>
<th align="center">变量名称</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">HOME</td>
<td align="center">用户的主目录（即家目录）</td>
</tr>
<tr>
<td align="center">SHELL</td>
<td align="center">用户在使用的Shell解释器名称</td>
</tr>
<tr>
<td align="center">HISTSIZE</td>
<td align="center">输出的历史命令记录条数</td>
</tr>
<tr>
<td align="center">HISTFILESIZE</td>
<td align="center">保存的历史命令记录条数</td>
</tr>
<tr>
<td align="center">MAIL</td>
<td align="center">邮件保存路径</td>
</tr>
<tr>
<td align="center">LANG</td>
<td align="center">系统语言、语系名称</td>
</tr>
<tr>
<td align="center">RANDOM</td>
<td align="center">生成一个随机数字</td>
</tr>
<tr>
<td align="center">PS1</td>
<td align="center">Bash解释器的提示符</td>
</tr>
<tr>
<td align="center">PATH</td>
<td align="center">定义解释器搜索用户执行命令的路径</td>
</tr>
<tr>
<td align="center">EDITOR</td>
<td align="center">用户默认的文本编辑器</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# echo $HOME</span><br><span class="line">/root</span><br><span class="line">[root@chenstudy ~]# su - chen</span><br><span class="line">上一次登录：二 4月 12 22:16:24 CST 2022:0 上</span><br><span class="line">[chen@chenstudy ~]$ echo $HOME</span><br><span class="line">/home/chen</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">变量是由固定的变量名与用户或系统设置的变量值两部分组成的，我们完全可以自行创建变量，来满足工作需求</span></span><br><span class="line">[root@chenstudy ~]# mkdir /home/workdir</span><br><span class="line">[root@chenstudy ~]# WORKDIR=/home/workdir</span><br><span class="line">[root@chenstudy ~]# cd $WORKDIR</span><br><span class="line">[root@chenstudy workdir]# pwd</span><br><span class="line">/home/workdir</span><br><span class="line">[root@chenstudy workdir]# </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">上述方式的变量不具有全局性，工作需要时可以使用<span class="built_in">export</span>命令将其提升为全局变量</span></span><br><span class="line">[root@chenstudy workdir]# su - chen</span><br><span class="line">上一次登录：四 4月 14 23:02:17 CST 2022pts/2 上</span><br><span class="line">[chen@chenstudy ~]$ cd $WORKDIR</span><br><span class="line">[chen@chenstudy ~]$ echo $WORKDIR</span><br><span class="line">[chen@chenstudy ~]$ exit</span><br><span class="line">登出</span><br><span class="line">[root@chenstudy workdir]# su - root</span><br><span class="line">上一次登录：四 4月 14 23:03:02 CST 2022pts/2 上</span><br><span class="line">[root@chenstudy ~]# export WORKDIR</span><br><span class="line">[root@chenstudy ~]# cd /home/workdir/</span><br><span class="line">[root@chenstudy workdir]# su - chen</span><br><span class="line">上一次登录：四 4月 14 23:06:08 CST 2022pts/2 上</span><br></pre></td></tr></table></figure>

<h2 id="4、Vim编辑器与Shell命令脚本"><a href="#4、Vim编辑器与Shell命令脚本" class="headerlink" title="4、Vim编辑器与Shell命令脚本"></a>4、Vim编辑器与Shell命令脚本</h2><h3 id="4-1、Vim文本编辑器"><a href="#4-1、Vim文本编辑器" class="headerlink" title="4.1、Vim文本编辑器"></a>4.1、Vim文本编辑器</h3><p><strong>Vim编辑器的三种模式及切换方法</strong></p>
<ul>
<li><p>命令模式：控制光标移动，可对文本进行复制、粘贴、删除和查找等</p>
</li>
<li><p>输入模式：正常文本录入</p>
</li>
<li><p>保存或退出我能当，以及设置编译环境</p>
</li>
<li><p>命令模式中常用的命令</p>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">dd</td>
<td align="center">删除（剪切）光标所在整行</td>
</tr>
<tr>
<td align="center">5dd</td>
<td align="center">删除（剪切）从光标处开始的5行</td>
</tr>
<tr>
<td align="center">yy</td>
<td align="center">复制光标所在的整行</td>
</tr>
<tr>
<td align="center">5yy</td>
<td align="center">复制从光标处开始的5行</td>
</tr>
<tr>
<td align="center">n</td>
<td align="center">显示搜索命令定位到的下一个字符</td>
</tr>
<tr>
<td align="center">N</td>
<td align="center">显示搜索命令定位到的上一个字符</td>
</tr>
<tr>
<td align="center">u</td>
<td align="center">撤销上一步的操作</td>
</tr>
<tr>
<td align="center">P</td>
<td align="center">将之前删除（dd）或复制（yy）过的数据粘贴到光标后面</td>
</tr>
</tbody></table>
<ul>
<li>末行模式常用的命令</li>
</ul>
<table>
<thead>
<tr>
<th align="center">命令</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">:w</td>
<td align="center">保存</td>
</tr>
<tr>
<td align="center">:q</td>
<td align="center">退出</td>
</tr>
<tr>
<td align="center">:q!</td>
<td align="center">强制退出（放弃对文档的修改内容）</td>
</tr>
<tr>
<td align="center">:wq!</td>
<td align="center">强制保存退出</td>
</tr>
<tr>
<td align="center">:set nu</td>
<td align="center">显示行号</td>
</tr>
<tr>
<td align="center">:set nonu</td>
<td align="center">不显示行号</td>
</tr>
<tr>
<td align="center">:命令</td>
<td align="center">执行该命令</td>
</tr>
<tr>
<td align="center">:整数</td>
<td align="center">跳到该命令</td>
</tr>
<tr>
<td align="center">:s&#x2F;one&#x2F;two</td>
<td align="center">将当前贯标所在行的第一个one替换成two</td>
</tr>
<tr>
<td align="center">:s&#x2F;one&#x2F;two&#x2F;g</td>
<td align="center">将当前贯标所在行的所有的one替换成two</td>
</tr>
<tr>
<td align="center">:%s&#x2F;one&#x2F;two&#x2F;g</td>
<td align="center">将全文中的所有的one替换成two</td>
</tr>
<tr>
<td align="center">?字符串</td>
<td align="center">在文本中从下至上所搜改字符串</td>
</tr>
<tr>
<td align="center">&#x2F;字符串</td>
<td align="center">在文本中从上至下所搜改字符串</td>
</tr>
</tbody></table>
<h3 id="4-1-1、配置主机名称"><a href="#4-1-1、配置主机名称" class="headerlink" title="4.1.1、配置主机名称"></a>4.1.1、配置主机名称</h3><p><strong>在Linux系统中，主机名大多保存在&#x2F;etc&#x2F;hostname文件中</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@chenstudy ~]# vim /etc/hostname</span><br><span class="line">chen</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启虚拟机之后在进行查看</span></span><br><span class="line">[root@chen ~]# hostname</span><br><span class="line">chen</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<h3 id="4-1-2、配置网卡信息"><a href="#4-1-2、配置网卡信息" class="headerlink" title="4.1.2、配置网卡信息"></a>4.1.2、配置网卡信息</h3><p><strong>在 Linux 系统中， 一切都是文件，因此配置网络服务的工作其实就是在编辑网卡配置文件</strong> </p>
<p><strong>在CentOS7中网卡配置文件的前缀为ifcfg开始</strong></p>
<ul>
<li>第1步：首先切换到&#x2F;etc&#x2F;sysconfig&#x2F;network-scripts 目录中（存放着网卡的配置文件） </li>
<li>第2步： 编辑器修改网卡文件 ifcfg-en33，逐项写入下面的配置参数并 保存退出。 <ul>
<li>我之前配置过了所以我的直接显示了IP地址</li>
<li>学习Linux时建议大家配置静态IP，这样我们就可以用finalshell进行连接了</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=ens33</span><br><span class="line">UUID=cc396254-ae13-43c7-aaec-23b8866d98a1</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.200.130</span><br><span class="line">GATEWAY=192.168.200.2</span><br><span class="line">DNS1=192.168.200.2</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设备类型：TYPE=Ethernet</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">地址分配模式：BOOTPROTO=static</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">网卡名称：NAME=en33</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">是否启动：ONBOOT=<span class="built_in">yes</span></span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">IP 地址：IPADDR=192.168.200.130</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">网关地址：GATEWAY=192.168.200.2</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">DNS 地址：DNS1=192.168.200.2</span></span><br></pre></td></tr></table></figure>

<ul>
<li>第3步：重启网络服务并测试网络是否联通。由于在 Linux 系统中 ping 命令不会自动终止，因此需要手动按下 Ctrl-c 键来强行结束进程 。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@chen network-scripts]# systemctl restart network</span><br><span class="line">[root@chen network-scripts]# ping 192.168.200.130</span><br><span class="line">PING 192.168.200.130 (192.168.200.130) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.200.130: icmp_seq=1 ttl=64 time=0.042 ms</span><br><span class="line">64 bytes from 192.168.200.130: icmp_seq=2 ttl=64 time=0.072 ms</span><br><span class="line">64 bytes from 192.168.200.130: icmp_seq=3 ttl=64 time=0.057 ms</span><br><span class="line">64 bytes from 192.168.200.130: icmp_seq=4 ttl=64 time=0.074 ms</span><br><span class="line">64 bytes from 192.168.200.130: icmp_seq=5 ttl=64 time=0.073 ms</span><br><span class="line">^C</span><br><span class="line">--- 192.168.200.130 ping statistics ---</span><br><span class="line">5 packets transmitted, 5 received, 0% packet loss, time 3999ms</span><br><span class="line">rtt min/avg/max/mdev = 0.042/0.063/0.074/0.015 ms</span><br><span class="line">[root@chen network-scripts]# </span><br></pre></td></tr></table></figure>

<h3 id="4-1-3、配置Yum软件仓库"><a href="#4-1-3、配置Yum软件仓库" class="headerlink" title="4.1.3、配置Yum软件仓库"></a>4.1.3、配置Yum软件仓库</h3><p><strong>Yum 软件仓库的作用是为了进一步简化 RPM 管理软件的难度以及自动分析 所需软件包及其依赖关系的技术 ，要使用 Yum 软件仓库，就要先把它搭建起来，然后将其配置规则确定好才行</strong></p>
<ul>
<li>第1步：进入到&#x2F;etc&#x2F;yum.repos.d&#x2F;目录中（该目录存放着 Yum 软件仓库的配置文件）。 </li>
<li>第2步：使用 Vim 编辑器创建一个名为 rhel7.repo 的新配置文件（文件名称可随意，但后 缀必须为.repo），逐项写入下面加粗的配置参数并保存退出（不要写后面的中文注释）。 <ul>
<li>[rhel-media] ：Yum 软件仓库唯一标识符，避免与其他仓库冲突。</li>
<li>name&#x3D;linuxchen：Yum 软件仓库的名称描述，易于识别仓库用处。 </li>
<li>baseurl&#x3D;file:&#x2F;&#x2F;&#x2F;media&#x2F;cdrom：提供的方式包括 FTP（ftp:&#x2F;&#x2F;..）、HTTP（http:&#x2F;&#x2F;..）、本地（file:&#x2F;&#x2F;&#x2F;..）。 </li>
<li>enabled&#x3D;1：设置此源是否可用；1 为可用，0 为禁用。 </li>
<li>gpgcheck&#x3D;1：设置此源是否校验文件；1 为校验，0 为不校验。</li>
<li>gpgkey&#x3D;file:&#x2F;&#x2F;&#x2F;media&#x2F;cdrom&#x2F;RPM-GPG-KEY-redhat-release：若上面参数开启校 验，那么请指定公钥文件地址。</li>
</ul>
</li>
<li>第3步：按配置参数的路径挂载光盘，并把光盘挂载信息写入到&#x2F;etc&#x2F;fstab 文件中。 第4步：使用“yum install httpd -y”命令检查 Yum 软件仓库是否已经可用。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@chen network-scripts]# cd /etc/yum.repos.d/</span><br><span class="line">[root@chen yum.repos.d]# vim centos7.repo</span><br><span class="line">[root@chen yum.repos.d]# vim centos7.repo</span><br><span class="line"></span><br><span class="line">[centos7]</span><br><span class="line">name=centos7</span><br><span class="line">baseurl=file:///media/cdrom</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure>

<ul>
<li>创建挂载点后进行挂载操作，并设置成开机自动挂载 (第六章会讲解)尝试使用 Yum 软 件仓库来安装 Web 服务，出现 <strong>Complete！</strong>则代表配置正确 ：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@chen yum.repos.d]# mkdir -p /media/cdrom</span><br><span class="line">[root@chen yum.repos.d]# mount /dev/cdrom /media/cdrom</span><br><span class="line">mount: /dev/sr0 写保护，将以只读方式挂载</span><br><span class="line">[root@chen yum.repos.d]# vim /etc/fstab</span><br><span class="line">[root@chen yum.repos.d]# vim /etc/fstab</span><br><span class="line">[root@chen yum.repos.d]# yum install httpd</span><br><span class="line">已安装:</span><br><span class="line">  httpd.x86_64 0:2.4.6-97.el7.centos.5                                                       </span><br><span class="line">作为依赖被安装:</span><br><span class="line">  httpd-tools.x86_64 0:2.4.6-97.el7.centos.5                 mailcap.noarch 0:2.1.41-2.el7   完毕！</span><br></pre></td></tr></table></figure>

<h2 id="4-2、编写Shell脚本"><a href="#4-2、编写Shell脚本" class="headerlink" title="4.2、编写Shell脚本"></a>4.2、编写Shell脚本</h2><p>可以将 Shell 终端解释器当作人与计算机硬件之间的“翻译官”，它作为用户与 Linux 系 统内部的通信媒介，除了能够支持各种变量与参数外，还提供了诸如循环、分支等高级编程 语言才有的控制结构特性。要想正确使用 Shell 中的这些功能特性，准确下达命令尤为重要。 Shell 脚本命令的工作方式有两种：交互式和批处理。</p>
<p>​	<strong>交互式（Interactive）：用户每输入一条命令就立即执行。</strong></p>
<p>​	<strong>批处理（Batch）：由用户事先编写好一个完整的 Shell 脚本，Shell 会一次性执行脚本 中诸多的命令。</strong> </p>
<p>在 Shell 脚本中不仅会用到前面学习过的很多 Linux 命令以及正则表达式、管道符、数据 流重定向等语法规则，还需要把内部功能模块化后通过逻辑语句进行处理，最终形成日常所 见的 Shell 脚本 。</p>
<h3 id="4-2-1、编写简单的脚本"><a href="#4-2-1、编写简单的脚本" class="headerlink" title="4.2.1、编写简单的脚本"></a>4.2.1、编写简单的脚本</h3><p>使用Vim 编辑器把 Linux 命令按照顺序依次写入到一个 文件中，这就是一个简单的脚本了 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果想查看当前所在工作路径并列出当前目录下所有的文件及属性信息，实现这个功能的脚本应该类似于下面这样</span></span><br><span class="line">[root@chen ~]# vim chen.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">For Ex BY chen</span></span><br><span class="line">pwd</span><br><span class="line">ls -al</span><br><span class="line">[root@chen ~]# bash chen.sh</span><br><span class="line">/root</span><br><span class="line">总用量 120</span><br><span class="line">dr-xr-x---. 17 root root 4096 4月  18 18:31 .</span><br><span class="line">dr-xr-xr-x. 18 root root 4096 3月  25 03:11 ..</span><br><span class="line">-rw-------.  1 root root 1476 4月  15 23:54 .bash_history</span><br><span class="line">-rw-r--r--.  1 root root   18 12月 29 2013 .bash_logout</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bash_profile</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bashrc</span><br><span class="line">drwx------. 13 root root 4096 3月  25 03:27 .cache</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">第二种运行脚本程序的方法是通过输入完整路径的方式来执行</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">但默认会因为权限不足而提示报错信息，此时只需要为脚本文件增加执行权限即可</span></span><br><span class="line">[root@chen ~]# ./chen.sh</span><br><span class="line">-bash: ./chen.sh: 权限不够</span><br><span class="line">[root@chen ~]# chmod u+x chen.sh</span><br><span class="line">[root@chen ~]# ./chen.sh</span><br><span class="line">/root</span><br><span class="line">总用量 120</span><br><span class="line">dr-xr-x---. 17 root root 4096 4月  18 18:31 .</span><br><span class="line">dr-xr-xr-x. 18 root root 4096 3月  25 03:11 ..</span><br><span class="line">-rw-------.  1 root root 1476 4月  15 23:54 .bash_history</span><br><span class="line">-rw-r--r--.  1 root root   18 12月 29 2013 .bash_logout</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bash_profile</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bashrc</span><br><span class="line">drwx------. 13 root root 4096 3月  25 03:27 .cache</span><br></pre></td></tr></table></figure>

<h3 id="4-2-2、接收用户的参数"><a href="#4-2-2、接收用户的参数" class="headerlink" title="4.2.2、接收用户的参数"></a>4.2.2、接收用户的参数</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Linux 系统中的 Shell 脚本语言 已经内设了用于接收参数的变量，变量之间可以使用空格间隔。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">例如<span class="variable">$0</span> 对应的是当前 Shell 脚本程序的名称，</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$#</span>对应的是总共 有几个参数，</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">$*对应的是所有位置的参数值，</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="comment">#?对应的是显示上一次命令的执行返回值，而 $1、$2、$3……则分别对应着第 N 个位置的参数值</span></span></span><br><span class="line">[root@chen ~]# vim chen.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">For Ex BY chen</span></span><br><span class="line">echo &quot;当前脚本名称为$0&quot; </span><br><span class="line">echo &quot;总共有$#个参数，分别是$*。&quot; </span><br><span class="line">echo &quot;第 1 个参数为$1，第 5 个为$5。&quot;</span><br><span class="line">[root@chen ~]# sh chen.sh one two three four five six</span><br><span class="line">当前脚本名称为chen.sh</span><br><span class="line">总共有6个参数，分别是one two three four five six。</span><br><span class="line">第 1 个参数为one，第 5 个为five。</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<h3 id="4-2-3、判断用户的参数"><a href="#4-2-3、判断用户的参数" class="headerlink" title="4.2.3、判断用户的参数"></a>4.2.3、判断用户的参数</h3><p>系统在执行 mkdir 命令时会判断用户输入的信息，即判断用户 指定的文件夹名称是否已经存在，如果存在则提示报错；反之则自动创建。Shell 脚本中的条 件测试语法可以判断表达式是否成立，若条件成立则返回数字 0，否则便返回其他随机数值 。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">测试语句表达式: [ 条件表达式 ]([]两边均应有一个空格)</span></span><br></pre></td></tr></table></figure>

<p>条件测试语句可以分为 4 种： </p>
<ul>
<li>文件测试语句；</li>
<li>逻辑测试语句； </li>
<li>整数值比较语句；</li>
<li>字符串比较语句。</li>
</ul>
<p><strong>文件测试所用的参数</strong></p>
<table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-d</td>
<td align="center">测试文件是否为目录类型</td>
</tr>
<tr>
<td align="center">-e</td>
<td align="center">测试文件是否存在</td>
</tr>
<tr>
<td align="center">-f</td>
<td align="center">判断是否为一般文件</td>
</tr>
<tr>
<td align="center">-r</td>
<td align="center">测试当前用户是否有权限读取</td>
</tr>
<tr>
<td align="center">-w</td>
<td align="center">测试当前用户是否有权限写入</td>
</tr>
<tr>
<td align="center">-x</td>
<td align="center">测试当前用户是否有权限执行</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">使用文件测试语句来判断/etc/fstab 是否为一个目录类型的文件，然后通过 Shell 解释器的内设$?变量显示上一条命令执行后的返回值。如果返回值为 0，则目录存在；如果返回值为非零的值，则意味着目录不存在</span></span><br><span class="line">[root@chen ~]# [ -d /etc/fstab ]</span><br><span class="line">[root@chen ~]# echo $?</span><br><span class="line">1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用文件测试语句来判断/etc/fstab 是否为一般文件，如果返回值为 0，则代表文件存在，且为一般文件</span></span><br><span class="line">[root@chen ~]# [ -f /etc/fstab ]</span><br><span class="line">[root@chen ~]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@chen ~]# </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此可以用来判断/dev/cdrom 文件是否存在，若存在则输出 Exist 字样;逻辑“与”的运算符号是&amp;&amp;</span></span><br><span class="line">[root@chen ~]# [ -e /dev/cdrom ] &amp;&amp; echo &quot;Exist&quot;</span><br><span class="line">Exist</span><br><span class="line">[root@chen ~]# echo $USER</span><br><span class="line">root</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">逻辑“或”,运算符号为||</span></span><br><span class="line">[root@chen ~]# [ $USER = root ] || echo &quot;user&quot;</span><br><span class="line">[root@chen ~]# su - chen</span><br><span class="line">上一次登录：四 4月 14 23:07:57 CST 2022pts/2 上</span><br><span class="line">[chen@chen ~]$ [ $USER = root ] || echo &quot;user&quot;</span><br><span class="line">user</span><br><span class="line">[chen@chen ~]$ exit</span><br><span class="line">登出</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">逻辑“非”的运算符号叹号(!)</span></span><br><span class="line">[root@chen ~]# [ ! $USER  = root ] || echo &quot;Administrator&quot;</span><br><span class="line">Administrator</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<p><strong>可用的整数比较运算符</strong></p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-eq</td>
<td>是否等于</td>
</tr>
<tr>
<td align="left">-ne</td>
<td>是否不等于</td>
</tr>
<tr>
<td align="left">-gt</td>
<td>是否大于</td>
</tr>
<tr>
<td align="left">-lt</td>
<td>是否小于</td>
</tr>
<tr>
<td align="left">-le</td>
<td>是否等于或小于</td>
</tr>
<tr>
<td align="left">-ge</td>
<td>是否大于或等于</td>
</tr>
</tbody></table>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# [ 10 -gt 10 ]</span><br><span class="line">[root@chen ~]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@chen ~]# [ 10 -eq 10 ]</span><br><span class="line">[root@chen ~]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<p><strong>常见的字符串比较运算符</strong></p>
<table>
<thead>
<tr>
<th align="center">运算符</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&#x3D;</td>
<td align="center">比较字符串内容是否相同</td>
</tr>
<tr>
<td align="center">!&#x3D;</td>
<td align="center">比较字符串内容是否不同</td>
</tr>
<tr>
<td align="center">-z</td>
<td align="center">判断字符串内容是否为空</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">通过判断 String 变量是否为空值，进而判断是否定义了这个变量</span></span><br><span class="line">[root@chen ~]# [ -z $String ]</span><br><span class="line">[root@chen ~]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@chen ~]# [ -z $String &quot;chen&quot; ]</span><br><span class="line">[root@chen ~]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@chen ~]# echo $LANG</span><br><span class="line">zh_CN.UTF-8</span><br><span class="line">[root@chen ~]# [ $LANG != &quot;en.US&quot; ] &amp;&amp; echo &quot;Not en.US&quot;</span><br><span class="line">Not en.US</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<h2 id="4-3、流程控制语句"><a href="#4-3、流程控制语句" class="headerlink" title="4.3、流程控制语句"></a>4.3、流程控制语句</h2><p>使用Linux命令、管道符、重定向以及条件测试语句来编写最基本的shell脚本，但是不适合生产环境，接下来我们将学习if、for、while、case四种流程语句来学习编写更强大、功能更强的脚本。</p>
<h3 id="4-3-1、if条件测试语句"><a href="#4-3-1、if条件测试语句" class="headerlink" title="4.3.1、if条件测试语句"></a>4.3.1、if条件测试语句</h3><ul>
<li>if 条件测试语句可以让脚本根据实际情况自动执行相应的命令。从技术角度来讲，if 语 句分为单分支结构、双分支结构、多分支结构；</li>
<li><strong>if 条件语句的单分支结构由 if、then、fi 关键词组成 相当于口语的“如果……那么……”</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下面使用单分支的 <span class="keyword">if</span> 条件语句来判断/chen/study 目录是否存在，若存在就结束条件判断和整个 Shell 脚本，反之则去创建这个目录</span></span><br><span class="line">[root@chen ~]# vim mkstudy.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">DIR=&quot;/chen/study&quot;</span><br><span class="line">if [ ! -e $DIR ]</span><br><span class="line">then</span><br><span class="line">mkdir -p $DIR</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行脚本</span></span><br><span class="line">[root@chen ~]# bash mkstudy.sh </span><br><span class="line">[root@chen ~]# ls -d /chen/study</span><br><span class="line">/chen/study</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>if 条件语句的双分支结构由 if、then、else、fi 关键词组成</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用双分支的 <span class="keyword">if</span> 条件语句来验证某台主机是否在线，然后根据返回值的结果，要么 显示主机在线信息，要么显示主机不在线信息</span></span><br><span class="line">[root@chen ~]# vim chkhost.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">ping -c 3 -i 0.2 -W 3 $1 &amp;&gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then</span><br><span class="line">echo &quot;Host $1 id On-line.&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;Host $1 is Off-line.&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行脚本</span></span><br><span class="line">[root@chen ~]# vim chkhost.sh</span><br><span class="line">[root@chen ~]# bash chkhost.sh 192.168.200.130</span><br><span class="line">Host 192.168.200.130 id On-line.</span><br><span class="line">[root@chen ~]# bash chkhost.sh 192.168.200.131</span><br><span class="line">Host 192.168.200.131 is Off-line.</span><br><span class="line">[root@chen ~]# </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>if 条件语句的多分支结构由 if、then、else、elif、fi 关键词组成相当于口语的“如 果……那么……如果……那么……”</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# vim chkcore.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -p &quot;Enter your score (0-100):&quot; GRADE</span><br><span class="line">if [ $GRADE -ge 85 ] &amp;&amp; [ $GRADE -le 100 ] ; then</span><br><span class="line">echo &quot;$GRADE is Excellent&quot;</span><br><span class="line">elif [ $GRADE -ge 70 ] &amp;&amp; [ $GRADE -le 84 ] ; then</span><br><span class="line">echo &quot;$GRADE is PASS&quot;</span><br><span class="line">elif [ $GRADE -ge 0 ] &amp;&amp; [ $GRADE -le 69 ] ; then</span><br><span class="line">echo &quot;$GRADE is Fail&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;Plase enter legal score&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行脚本</span></span><br><span class="line">[root@chen ~]# vim chkcore.sh</span><br><span class="line">[root@chen ~]# bash chkcore.sh </span><br><span class="line">Enter your score (0-100):88</span><br><span class="line">88 is Excellent</span><br><span class="line">[root@chen ~]# bash chkcore.sh 200</span><br><span class="line">Enter your score (0-100):200   </span><br><span class="line">Plase enter legal score</span><br></pre></td></tr></table></figure>

<h3 id="4-3-2、for条件循环语句"><a href="#4-3-2、for条件循环语句" class="headerlink" title="4.3.2、for条件循环语句"></a>4.3.2、for条件循环语句</h3><p><strong>for 循环语句允许脚本一次性读取多个信息，然后逐一对信息进行操作处理，当要处理的数据 有范围时，使用 for 循环语句再适合不过了</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用 <span class="keyword">for</span> 循环语句从列表文件中读取多个用户名，然后为其逐一创建用户账户并设置密码</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.首先创建用户名称的列表文件 users.txt，每个用户名称单独一行</span></span><br><span class="line">[root@chen ~]# vim user.txt</span><br><span class="line">chen</span><br><span class="line">zj</span><br><span class="line">ldz</span><br><span class="line">wxy</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.接下来编写 Shell 脚本 chen.sh</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/dev/null 是一个被称作 Linux 黑洞的文件，把输出信息重定向到这个文件等同于删除数据（类似于没有回收功能的垃圾箱），可以让用户的屏幕窗口保持简洁</span></span><br><span class="line">[root@chen ~]# vim chen.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">For Ex BY chen</span></span><br><span class="line">read -p &quot;Enter The Users Password : &quot; PASSWD</span><br><span class="line">for UNAME in `cat user.txt`</span><br><span class="line">do </span><br><span class="line">        id $UNAME &amp;&gt; /dev/null</span><br><span class="line">        if [ $? -eq 0 ]</span><br><span class="line">        then</span><br><span class="line">                echo &quot;$UNAME , Already exists&quot;</span><br><span class="line">        else </span><br><span class="line">                useradd $UNAME &amp;&gt; /dev/null</span><br><span class="line">                echo &quot;$PASSWD&quot; | passwd --stdin $UNAME &amp;&gt; /dev/null</span><br><span class="line">                echo &quot;$UNAME , Create success&quot;</span><br><span class="line">        fi</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行批量创建用户的 Shell 脚本 chen.sh，在输入为账户设定的密码后将由脚本自动检查并创建这些账户。</span></span><br><span class="line">[root@chen ~]# vim user.txt</span><br><span class="line">[root@chen ~]# vim chen.sh</span><br><span class="line">[root@chen ~]# vim chen.sh</span><br><span class="line">[root@chen ~]# bash chen.sh</span><br><span class="line">Enter The Users Password : linux</span><br><span class="line">chen , Already exists</span><br><span class="line">zj , Create success</span><br><span class="line">ldz , Create success</span><br><span class="line">wxy , Create success</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果想确认这个脚本是否成功创建了用户账户，可以打开这个文件，看其中是否有这些新创建的用户信息</span> </span><br><span class="line">[root@chen ~]# tail -6 /etc/passwd</span><br><span class="line">tcpdump:x:72:72::/:/sbin/nologin</span><br><span class="line">chen:x:1000:1000:chen:/home/chen:/bin/bash</span><br><span class="line">apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin</span><br><span class="line">zj:x:1001:1001::/home/zj:/bin/bash</span><br><span class="line">ldz:x:1002:1002::/home/ldz:/bin/bash</span><br><span class="line">wxy:x:1003:1003::/home/wxy:/bin/bash</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">让脚本从文本中自动读取主机列表，然后自动逐个测试这些主机是否在线</span></span><br><span class="line">[root@chen ~]# vim ipadds.txt</span><br><span class="line"></span><br><span class="line">192.168.200.130</span><br><span class="line">192.168.200.131</span><br><span class="line">192.168.200.132</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">双分支 <span class="keyword">if</span> 条件语句与 <span class="keyword">for</span> 循环语句相结合，让脚本从主机列表文件 ipadds.txt中自动读取 IP 地址（用来表示主机）并将其赋值给 HLIST 变量，从而通过判断 ping 命令执行后的返回值来逐个测试主机是否在线</span></span><br><span class="line">[root@chen ~]# vim CheckHosts.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">HLIST=$(cat ~/ipadds.txt)</span><br><span class="line">for IP in $HLIST</span><br><span class="line">do</span><br><span class="line">        ping -c 3 -i 0.2 -W 3 $IP &amp;&gt; /dev/null</span><br><span class="line">        if [ $? -eq 0 ]</span><br><span class="line">        then</span><br><span class="line">                echo &quot;Host $IP is On-line.&quot;</span><br><span class="line">        else</span><br><span class="line">                echo &quot;Host $IP is Off-line.&quot;</span><br><span class="line">        fi</span><br><span class="line">done</span><br><span class="line">[root@chen ~]# ./CheckHosts.sh</span><br><span class="line">-bash: ./CheckHosts.sh: 权限不够</span><br><span class="line">[root@chen ~]# chmod u+x CheckHosts.sh </span><br><span class="line">[root@chen ~]# ./CheckHosts.sh</span><br><span class="line">Host 192.168.200.130 is On-line.</span><br><span class="line">Host 192.168.200.131 is Off-line.</span><br><span class="line">Host 192.168.200.132 is Off-line.</span><br><span class="line">[root@chen ~]#</span><br></pre></td></tr></table></figure>



<h3 id="4-3-3、while条件循环语句"><a href="#4-3-3、while条件循环语句" class="headerlink" title="4.3.3、while条件循环语句"></a>4.3.3、while条件循环语句</h3><p><strong>while 条件循环语句是一种让脚本根据某些条件来重复执行while 循环语句通过判断条件测试的真假来决定是否继续执行命令，若条件为真就继续执行， 为假就结束循环 命令的语句</strong> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来结合使用多分支的 <span class="keyword">if</span> 条件测试语句与 <span class="keyword">while</span> 条件循环语句，编写一个用来猜测数值大小的脚本 Guess.sh</span></span><br><span class="line">[root@chen ~]# vim Guess.sh</span><br><span class="line">[root@chen ~]# vim Guess.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">PRICE=$(expr $RANDOM % 100)</span><br><span class="line">TIMES=0</span><br><span class="line">echo &quot;商品的价格在0-99之间，猜猜看是多少？&quot;</span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">        read -p &quot;请输入你猜的价格数目：&quot; INT</span><br><span class="line">let TIMES++</span><br><span class="line">if [ $INT -eq $PRICE ] ; then</span><br><span class="line">        echo &quot;恭喜你答对了，商品的实际价格 $PRICE.&quot;</span><br><span class="line">        echo &quot;你共猜测了 $TIMES 次&quot;</span><br><span class="line">        exit 0</span><br><span class="line">        elif [ $INT -gt $PRICE ] ; then</span><br><span class="line">                echo &quot;太高了！&quot; </span><br><span class="line">        else</span><br><span class="line">                echo &quot;太低了！&quot; </span><br><span class="line">        fi</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行脚本</span></span><br><span class="line">[root@chen ~]# bash Guess.sh </span><br><span class="line">商品的价格在0-99之间，猜猜看是多少？</span><br><span class="line">请输入你猜的价格数目：90</span><br><span class="line">太高了！</span><br><span class="line">请输入你猜的价格数目：85</span><br><span class="line">太高了！</span><br><span class="line">请输入你猜的价格数目：60</span><br><span class="line">太高了！</span><br><span class="line">请输入你猜的价格数目：25</span><br><span class="line">太低了！</span><br><span class="line">请输入你猜的价格数目：45</span><br><span class="line">太高了！</span><br><span class="line">请输入你猜的价格数目：42</span><br><span class="line">太高了！</span><br><span class="line">请输入你猜的价格数目：39</span><br><span class="line">太高了！</span><br><span class="line">请输入你猜的价格数目：30</span><br><span class="line">太低了！</span><br><span class="line">请输入你猜的价格数目：36</span><br><span class="line">太低了！</span><br><span class="line">请输入你猜的价格数目：38</span><br><span class="line">恭喜你答对了，商品的实际价格 38.</span><br><span class="line">你共猜测了 10 次</span><br><span class="line">[root@chen ~]# </span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="4-3-4、case条件测试语句"><a href="#4-3-4、case条件测试语句" class="headerlink" title="4.3.4、case条件测试语句"></a>4.3.4、case条件测试语句</h3><p><strong>case 语句是在多个范围内匹配 数据，若匹配成功则执行相关命令并结束整个条件测试；而如果数据不在所列出的范围内， 则会去执行星号（*）中所定义的默认命令</strong> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">我们编写脚本 Checkkeys.sh，提示用户输入一个字符并将其赋值给变量 KEY， 然后根据变量 KEY 的值向用户显示其值是字母、数字还是其他字符</span></span><br><span class="line">[root@chen ~]# vim CheckKeys.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -p &quot;请输入一个字符，并按Enter键确认：&quot; KEY</span><br><span class="line">case &quot;$KEY&quot; in</span><br><span class="line">        [a-z]|[A-Z])</span><br><span class="line">                echo &quot;您输入的是 字母。&quot;</span><br><span class="line">                ;;</span><br><span class="line">        [0-9])</span><br><span class="line">                echo &quot;您输入的是 数字。&quot;</span><br><span class="line">                ;;</span><br><span class="line">        *)</span><br><span class="line">                echo &quot;您输入的是空格 、功能键或其他控制字符。&quot;</span><br><span class="line">esac</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">保存并执行程序</span></span><br><span class="line">[root@chen ~]# vim CheckKeys.sh</span><br><span class="line">[root@chen ~]# bash CheckKeys.sh </span><br><span class="line">请输入一个字符，并按Enter键确认：Z</span><br><span class="line">您输入的是 字母。</span><br><span class="line">[root@chen ~]# bash CheckKeys.sh </span><br><span class="line">请输入一个字符，并按Enter键确认：3</span><br><span class="line">您输入的是 数字。</span><br><span class="line">[root@chen ~]# bash CheckKeys.sh </span><br><span class="line">请输入一个字符，并按Enter键确认： </span><br><span class="line">您输入的是空格 、功能键或其他控制字符。</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<h2 id="4-4、计划任务服务程序"><a href="#4-4、计划任务服务程序" class="headerlink" title="4.4、计划任务服务程序"></a>4.4、计划任务服务程序</h2><ol>
<li><strong>计划任务服务程序就是可以<code>使得 Linux 在无需人为介入的情况下，在指定的时间段自动 启用或停止某些服务或命令，从而实现运维的自动化</code></strong> </li>
<li>**计划任务分为一次性计划任务与长期性计划任务，大家可以按照如下方式理解。 **</li>
<li>一次性计划任务：今晚 11 点 30 分开启网站服务。 </li>
<li>长期性计划任务：每周一的凌晨 3 点 25 分把&#x2F;home&#x2F;wwwroot 目录打包备份为 backup.tar.gz</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">“at 时间”：一次性计划任务</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">“at -l”命令：查看已设置好但还未执行的一次性计划任务</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">“atrm 任务序号”：删除任务</span></span><br><span class="line">[root@chen ~]# at 23:20</span><br><span class="line"><span class="meta prompt_">at&gt; </span><span class="language-bash">systemctl restart network</span>  </span><br><span class="line"><span class="meta prompt_">at&gt; </span><span class="language-bash">此处请同时按下 Ctrl + D 组合键来结束编写计划任务</span></span><br><span class="line">job 2 at Wed Apr 20 23:20:00 2022</span><br><span class="line">[root@chen ~]# at -l</span><br><span class="line">2	Wed Apr 20 23:20:00 2022 a root</span><br><span class="line">[root@chen ~]# atrm 2</span><br><span class="line">[root@chen ~]# at -l</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">at 命令接收前面 <span class="built_in">echo</span> 命令的输出信息，以达到通过非交互式的方式创建计划一次性任务的目的</span></span><br><span class="line">[root@chen ~]# echo &quot;systemctl restart network&quot; | at 23:30</span><br><span class="line">job 3 at Wed Apr 20 23:30:00 2022</span><br><span class="line">[root@chen ~]# at -l</span><br><span class="line">3	Wed Apr 20 23:30:00 2022 a root</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<ol start="5">
<li><strong>如果我们希望 Linux 系统能够周期性地、有规律地执行某些具体的任务，那么 Linux 系统 中默认启用的 crond 服务简直再适合不过了</strong></li>
</ol>
<ul>
<li>crontab -e : 创建、编辑计划任务 </li>
<li>crontab -l : 查看当前计划任务</li>
<li>crontab -r : 删除某条计划任务 </li>
<li>crontab -u: 编辑他人的计划任务</li>
</ul>
<ol start="6">
<li><strong>在正式部署计划任务前，请先跟刘遄老师念一下口诀“分、时、日、月、星期 命令”需要注意的是，如果有些字段 没有设置，则需要使用星号（*）占位</strong></li>
</ol>
<p><strong>使用 crond 设置任务的参数字段说明</strong> </p>
<table>
<thead>
<tr>
<th align="center">字段</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">分</td>
<td align="center">取值为0~59的整数</td>
</tr>
<tr>
<td align="center">时</td>
<td align="center">取值为0~23的任意整数</td>
</tr>
<tr>
<td align="center">日</td>
<td align="center">取值为1~31的任意整数</td>
</tr>
<tr>
<td align="center">月</td>
<td align="center">取值为1~12的任意整数</td>
</tr>
<tr>
<td align="center">星期</td>
<td align="center">取值为0-7的任意整数，其中0与7均为星期日</td>
</tr>
<tr>
<td align="center">命令</td>
<td align="center">要执行的命令或程序脚本</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">假设在每周一、三、五的凌晨 3 点 25 分，都需要使用 tar 命令把某个网站的数据目录进行打包处理，使其作为一个备份文件</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">crontab -e 命令来创建计划任务</span></span><br><span class="line">[root@chen ~]# crontab -e</span><br><span class="line"></span><br><span class="line">25 3 * * 1,3,5 /usr/bin/tar -czvf backup.tar.gz /home/wwwroot</span><br><span class="line">[root@chen ~]# crontab -e</span><br><span class="line">no crontab for root - using an empty one </span><br><span class="line">crontab: installing new crontab</span><br><span class="line">[root@chen ~]# crontab -l</span><br><span class="line">25 3 * * 1,3,5 /usr/bin/tar -czvf backup.tar.gz /home/wwwroot </span><br><span class="line">[root@chen ~]# </span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>注意：</strong><code>需要说明的是，除了用逗号（,）来分别表示多个时间段，例如“8,9,12”表示 8 月、9 月 和 12 月。还可以用减号（-）来表示一段连续的时间周期（例如字段“日”的取值为“12-15”， 则表示每月的 12～15 日）。以及用除号（/）表示执行任务的间隔时间（例如“/2”表示每隔 2 分钟执行一次任务）之外 </code></p>
<p><strong>在 crond 服务中需要同时包含多条计划任务的命令语句，应每行仅写一条。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# whereis rm</span><br><span class="line">rm: /usr/bin/rm /usr/share/man/man1/rm.1.gz /usr/share/man/man1p/rm.1p.gz</span><br><span class="line">[root@chen ~]# </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">我们再 添加一条计划任务，它的功能是每周一至周五的凌晨 1 点钟自动清空/tmp 目录内的所有文件</span></span><br><span class="line">[root@chen ~]# crontab -e</span><br><span class="line">25 3 * * 1,3,5 /usr/bin/tar -czvf backup.tar.gz /home/wwwroot</span><br><span class="line">0 1 * * 1-5 /usr/bin/rm -rf /tmp/*</span><br><span class="line">[root@chen ~]# crontab -l</span><br><span class="line">25 3 * * 1,3,5 /usr/bin/tar -czvf backup.tar.gz /home/wwwroot </span><br><span class="line">0 1 * * 1-5 /usr/bin/rm -rf /tmp/*</span><br><span class="line">[root@chen ~]#</span><br></pre></td></tr></table></figure>

<h3 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h3><ul>
<li><strong>在 crond 服务的配置参数中，可以像 Shell 脚本那样以#号开头写上注释信息，这样 在日后回顾这段命令代码时可以快速了解其功能、需求以及编写人员等重要信息。</strong></li>
<li><strong>计划任务中的“分”字段必须有数值，绝对不能为空或是*号，而“日”和“星期” 字段不能同时使用，否则就会发生冲突</strong></li>
</ul>
<h2 id="5、用户身份与权限"><a href="#5、用户身份与权限" class="headerlink" title="5、用户身份与权限"></a>5、用户身份与权限</h2><h3 id="5-1、用户身份与能力"><a href="#5-1、用户身份与能力" class="headerlink" title="5.1、用户身份与能力"></a>5.1、用户身份与能力</h3><p>管理员 UID 为 0：系统的管理员用户。</p>
<p>系统用户 UID 为 1～999： Linux 系统为了避免因某个服务程序出现漏洞而被黑客提 权至整台服务器，默认服务程序会有独立的系统用户负责运行，进而有效控制被破坏 范围。</p>
<p>普通用户 UID 从 1000 开始：是由管理员创建的用于日常工作的用户。 需要注意的是，UID 是不能冲突的，而且管理员创建的普通用户的 UID 默认是从 1000 开始的（即使前面有闲置的号码） </p>
<h4 id="5-1-1、id命令"><a href="#5-1-1、id命令" class="headerlink" title="5.1.1、id命令"></a>5.1.1、id命令</h4><ul>
<li>id命令用于显示用户的详细信息，语法格式为“id 用户名”</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@chen home]# id chen</span><br><span class="line">uid=1000(chen) gid=1000(chen) groups=1000(chen)</span><br><span class="line">[root@chen home]# </span><br></pre></td></tr></table></figure>



<h4 id="5-1-2、useradd命令"><a href="#5-1-2、useradd命令" class="headerlink" title="5.1.2、useradd命令"></a>5.1.2、useradd命令</h4><ul>
<li><strong>useradd 命令用于创建新的用户，格式为“useradd [选项] 用户名”</strong> </li>
<li><strong>使用useradd命令创建用户时，默认的家目录会被存放在&#x2F;home目录中</strong></li>
</ul>
<p><strong>useradd 命令中的用户参数以及作用</strong> </p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-d</td>
<td align="center">指定用户的家目录(默认为&#x2F;home&#x2F;username)</td>
</tr>
<tr>
<td align="center">-e</td>
<td align="center">账户的到期时间，格式为YYYY-MM-DD</td>
</tr>
<tr>
<td align="center">-u</td>
<td align="center">指定该用户的默认UID</td>
</tr>
<tr>
<td align="center">-g</td>
<td align="center">指定一个初始的用户基本组(已存在)</td>
</tr>
<tr>
<td align="center">-G</td>
<td align="center">指定一个或多个扩展用户组</td>
</tr>
<tr>
<td align="center">-N</td>
<td align="center">不创建与用户同名的基本用户组</td>
</tr>
<tr>
<td align="center">-s</td>
<td align="center">指定该用户默认的Shell解释器</td>
</tr>
</tbody></table>
<ul>
<li>使用useradd创建一个名称为zj的用户，并使用id命令确认信息</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@chen home]# useradd zj</span><br><span class="line">[root@chen home]# id zj</span><br><span class="line">uid=1001(zj) gid=1001(zj) groups=1001(zj)</span><br><span class="line">[root@chen home]# </span><br></pre></td></tr></table></figure>

<ul>
<li>创建一个普通用户并指定家目录、用户的UID以及Shell解释器</li>
<li>&#x2F;sbin&#x2F;nologin解释器一旦被设置，则代表该用户不能登录到系统中</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@chen home]# useradd -d /home/linuxcool -u 8888 -s /sbin/nologin linux</span><br><span class="line">[root@chen home]# id linux</span><br><span class="line">uid=8888(linux) gid=8888(linux) groups=8888(linux)</span><br><span class="line">[root@chen home]# </span><br></pre></td></tr></table></figure>

<h4 id="5-1-3、groupadd命令"><a href="#5-1-3、groupadd命令" class="headerlink" title="5.1.3、groupadd命令"></a>5.1.3、groupadd命令</h4><ul>
<li>groupadd命令用于创建新的用户组，语法格式为”groupadd[参数] 群组名”<ul>
<li>-g: 指定新建工作组的id</li>
<li>-r: 创建系统工作组，系统工作组的组ID小于500</li>
<li>-k: 覆盖配置文件”&#x2F;etc&#x2F;login.defs”</li>
<li>-o: 允许添加ID号不唯一的工作组</li>
</ul>
</li>
<li>为了更加高效的指派系统中各个用户的权限，在工作中常常会把几个用户加入到同一组里面，这样便可以针对一类用户统一安排权限</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# groupadd ronny</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<h4 id="5-1-4、usermod命令"><a href="#5-1-4、usermod命令" class="headerlink" title="5.1.4、usermod命令"></a>5.1.4、usermod命令</h4><ul>
<li>usermod命令用于修改用户的属性，英文全称为“user modify“，语法格式为”usermod [参数] 用户名“</li>
<li>用户信息保存在&#x2F;etc&#x2F;passwd文件中，可以直接用文本编辑器来修改配置</li>
</ul>
<p><strong>usermod命令中的参数以及作用</strong></p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-d&lt;登入目录&gt;</td>
<td align="center">修改用户登入时的目录</td>
</tr>
<tr>
<td align="center">-e&lt;有效期限&gt;</td>
<td align="center">修改账号的有效期限</td>
</tr>
<tr>
<td align="center">-f&lt;缓冲天数&gt;</td>
<td align="center">修改在密码过期后多少天即关闭该账号格式为：YYYY-MM-DD</td>
</tr>
<tr>
<td align="center">-g&lt;群组&gt;</td>
<td align="center">修改用户所属的群组</td>
</tr>
<tr>
<td align="center">-G&lt;群组&gt;</td>
<td align="center">修改用户所属的附加群组</td>
</tr>
<tr>
<td align="center">-l&lt;账号名称&gt;</td>
<td align="center">修改用户账号名称</td>
</tr>
<tr>
<td align="center">-L</td>
<td align="center">锁定用户密码，使密码无效</td>
</tr>
<tr>
<td align="center">-s<shell></td>
<td align="center">修改用户登入后所使用的shell</td>
</tr>
<tr>
<td align="center">-u<uid></td>
<td align="center">修改用户ID</td>
</tr>
<tr>
<td align="center">-U</td>
<td align="center">解除密码锁定</td>
</tr>
<tr>
<td align="center">-d -m</td>
<td align="center">参数-m与参数-d连用，可重新指定用户家目录并自动把就的数据转移过去</td>
</tr>
<tr>
<td align="center">-c&lt;备注&gt;</td>
<td align="center">修改用户账号的备注文字</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看linux用户的信息</span></span><br><span class="line">[root@chen ~]# id linux</span><br><span class="line">uid=8888(linux) gid=8888(linux) groups=8888(linux)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将用户linux加入到ronny用户组中去</span></span><br><span class="line">[root@chen ~]# usermod -G ronny linux</span><br><span class="line">[root@chen ~]# id linux</span><br><span class="line">uid=8888(linux) gid=8888(linux) groups=8888(linux),8889(ronny)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改linux用户的UID号码值</span></span><br><span class="line">[root@chen ~]# usermod -u 8889 linux</span><br><span class="line">[root@chen ~]# id linux</span><br><span class="line">uid=8889(linux) gid=8888(linux) groups=8888(linux),8889(ronny)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">把用户的解释器终端由默认的/bin/bash修改为/sbin/nologin</span></span><br><span class="line">[root@chen ~]# usermod -s /sbin/nologin linux</span><br><span class="line">usermod: no changes</span><br><span class="line">[root@chen ~]# su - linux</span><br><span class="line">This account is currently not available.</span><br></pre></td></tr></table></figure>

<h4 id="5-1-5、passwd命令"><a href="#5-1-5、passwd命令" class="headerlink" title="5.1.5、passwd命令"></a>5.1.5、passwd命令</h4><ul>
<li>passwd命令用于修改用户的密码、过期时间等信息，英文全称为”password”,语法格式为”passwd [参数] 用户名”</li>
<li>普通用户只能使用passwd命令修改自己的系统密码，root管理员则有权限修改其他所有人的密码</li>
</ul>
<p><strong>passwd命令中的参数以及作用</strong></p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-l</td>
<td align="center">锁定用户密码，无法被用户自行修改</td>
</tr>
<tr>
<td align="center">-u</td>
<td align="center">解开已锁定用户密码，允许用户自行修改</td>
</tr>
<tr>
<td align="center">-e</td>
<td align="center">密码立即过期，下次登陆强制修改密码</td>
</tr>
<tr>
<td align="center">-k</td>
<td align="center">保留即将过期的用户在期满后能仍能使用</td>
</tr>
<tr>
<td align="center">-S</td>
<td align="center">查询密码状态，以及密码所采用的加密算法的名称</td>
</tr>
<tr>
<td align="center">-d</td>
<td align="center">使该用户可用空密码登录系统</td>
</tr>
<tr>
<td align="center">–stdin</td>
<td align="center">通过标准输入修改用户密码，如echo”NewPassword” | passwd –stdin Username</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改自己的密码</span></span><br><span class="line">[root@chen ~]# passwd</span><br><span class="line">Changing password for user root.</span><br><span class="line">New password: 此处输入密码值</span><br><span class="line">BAD PASSWORD: The password is shorter than 7 characters</span><br><span class="line">Retype new password: 再次输入进行确认</span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改其他人的密码，需要先判断是否为root用户</span></span><br><span class="line">[root@chen ~]# passwd linux</span><br><span class="line">Changing password for user linux.</span><br><span class="line">New password: 此处输入密码值</span><br><span class="line">BAD PASSWORD: The password is shorter than 8 characters</span><br><span class="line">Retype new password: 再次输入进行确认</span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br><span class="line">[root@chen ~]# </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">假设您有位同事正在度假，而且假期很长，那么可以使用 passwd 命令禁止该用户登录系统，等假期结束回归工作岗位时，再使用该命令允许用户登录系统，而不是将其删除</span></span><br><span class="line">[root@chen ~]# passwd -l linux</span><br><span class="line">Locking password for user linux.</span><br><span class="line">passwd: Success</span><br><span class="line">[root@chen ~]# passwd -S linux</span><br><span class="line">linux LK 2022-04-23 0 99999 7 -1 (Password locked.)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在解锁时也要使用管理员身份</span></span><br><span class="line">[root@chen ~]# passwd -u linux</span><br><span class="line">Unlocking password for user linux.</span><br><span class="line">passwd: Success</span><br><span class="line">[root@chen ~]# passwd -S linux</span><br><span class="line">linux PS 2022-04-23 0 99999 7 -1 (Password set, SHA512 crypt.)</span><br></pre></td></tr></table></figure>

<h4 id="5-1-6、userdel"><a href="#5-1-6、userdel" class="headerlink" title="5.1.6、userdel"></a>5.1.6、userdel</h4><ul>
<li><strong>userdel 命令用于删除用户，格式为“userdel [选项] 用户名”</strong></li>
</ul>
<p><strong>userdel 命令的参数以及作用</strong> </p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-r</td>
<td align="center">删除用户主目录及其中的任何文件</td>
</tr>
<tr>
<td align="center">-h</td>
<td align="center">显示命令的帮助信息</td>
</tr>
<tr>
<td align="center">-f</td>
<td align="center">强制删除用户</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在删除一个用户时，一般不建议删除他的家目录，使用userdel不加参数就行</span></span><br><span class="line">[root@chen ~]# userdel linux</span><br><span class="line">[root@chen ~]# id linux</span><br><span class="line">id: linux: no such user</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">现在用户虽被删除了，但家目录数据会继续存放在/home目录中</span></span><br><span class="line">[root@chen ~]# cd /home</span><br><span class="line">[root@chen home]# ls</span><br><span class="line">chen  linux  linuxcool  readme.txt  workdir  zj</span><br></pre></td></tr></table></figure>



<h3 id="5-2、文件权限与归属"><a href="#5-2、文件权限与归属" class="headerlink" title="5.2、文件权限与归属"></a>5.2、文件权限与归属</h3><p>尽管在 Linux 系统中一切都是文件，但是每个文件的类型不尽相同，因此 Linux 系统使 用了不同的字符来加以区分，常见的字符如下所示。</p>
<ul>
<li>-：普通文件。 </li>
<li>d：目录文件。</li>
<li>l：链接文件。</li>
<li>b：块设备文件。</li>
<li>c：字符设备文件。</li>
<li>p：管道文件。</li>
</ul>
<p>在 Linux 系统中，每个文件都有所属的所有者和所有组，并且规定了文件的所有者、 所有组以及其他人对文件所拥有的可读（r）、可写（w）、可执行（x）等权限。 </p>
<p>这里给大家详细讲解一下目录文件的权限设置。对目录文件来说，“可读”表 示能够读取目录内的文件列表；“可写”表示能够在目录内新增、删除、重命名文件；而“可 执行”则表示能够进入该目录。 </p>
<p><strong>可读、可写、可执行权限对应的命令在文件和目录上是有区别的</strong> </p>
<p><strong>文件的可读、可写、可执行权限的英文全称分别是read、write、execute，可以简写为r、w、x，亦可分别用数字4、2、1来表示，文件所有者、文件所属组及其他用户权限之间无关联</strong> </p>
<p><strong>这里以rw-r-x-w-权限为例来介绍如何将字符表示的权限转换为数字表示的权限。首先，要将各个位上的字符替换为数字</strong> </p>
<p><strong>数字6是由4+2得到的，不可能是4+1+1（因为每个权限只会出现一次，不可能同时有两个x执行权限）；数字5则是4+1得到的；数字2是本身，没有权限即是空值0。接下来按照上表所示的格式进行书写，得到420401020这样一串数字。有了这些信息就好办了，就可以把这串数字转换成字母了。</strong> </p>
<p><strong>大家一定要心中牢记，文件的所有者、所属组和其他用户的权限之间无关联。一定不要写成rrwwx—-的样子，一定要把rwx权限位对应到正确的位置，写成rw-r-x-w-</strong> </p>
<h2 id="5-3、文件的特殊权限"><a href="#5-3、文件的特殊权限" class="headerlink" title="5.3、文件的特殊权限"></a>5.3、文件的特殊权限</h2><p><strong>在复杂多变的生产环境中，单纯设置文件的rwx权限无法满足我们对安全和灵活性的需求，因此便有了SUID、SGID与SBIT的特殊权限位。这是一种对文件权限进行设置的特殊功能，可以与一般权限同时使用，以弥补一般权限不能实现的功能。</strong></p>
<p><strong>下面具体解释这3个特殊权限位的功能以及用法</strong></p>
<h3 id="5-3-1、SUID"><a href="#5-3-1、SUID" class="headerlink" title="5.3.1、SUID"></a>5.3.1、SUID</h3><ul>
<li><strong>SUID是一种对二进制程序进行设置的特殊权限，能够让二进制程序的执行者临时拥有所有者的权限（仅对拥有执行权限的二进制程序有效）</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# ls -l /etc/shadow</span><br><span class="line">----------. 1 root root 1307 Apr 24 17:19 /etc/shadow</span><br><span class="line">[root@chen ~]# ls -l /bin/passwd</span><br><span class="line">-rwsr-xr-x. 1 root root 27856 Apr  1  2020 /bin/passwd</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong></p>
<p>​	<strong>&#x2F;bin&#x2F;passwd用来告诫用户一定要小心这个权限，因为一旦某个命令文件被设置了SUID权限，就意味着凡是执行该文件的人都可以临时获取到文件所有者所对应的更高权限。因此，千万不要将SUID权限设置到vim、cat、rm等命令上面！！！</strong> </p>
<h3 id="5-3-2、SGID"><a href="#5-3-2、SGID" class="headerlink" title="5.3.2、SGID"></a>5.3.2、SGID</h3><ul>
<li><strong>SGID特殊权限有两种应用场景：当对二进制程序进行设置时，能够让执行者临时获取文件所属组的权限；当对目录进行设置时，则是让目录内新创建的文件自动继承该目录原有用户组的名称</strong></li>
</ul>
<p><strong>SGID的第一种功能是参考SUID而设计的，不同点在于执行程序的用户获取的不再是文件所有者的临时权限，而是获取到文件所属组的权限</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">用到的就是SGID的第二个功能，即在某个目录中创建的文件自动继承该目录的用户组（只可以对目录进行设置）</span></span><br><span class="line">[root@chen ~]# su - chenhao</span><br><span class="line">[chenhao@chen ~]$ cd /tmp</span><br><span class="line">[chenhao@chen tmp]$ mkdir testdir</span><br><span class="line">[chenhao@chen tmp]$ ls -ald testdir</span><br><span class="line">drwxrwxr-x. 2 chenhao chenhao 4096 Apr 25 20:16 testdir</span><br><span class="line">[chenhao@chen tmp]$ chmod -R 777 testdir</span><br><span class="line">[chenhao@chen tmp]$ ls -ald testdir</span><br><span class="line">drwxrwxrwx. 2 chenhao chenhao 4096 Apr 25 20:16 testdir</span><br><span class="line">[chenhao@chen tmp]$ </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在使用上述命令设置好目录的777权限（确保普通用户可以向其中写入文件），并为该目录设置了SGID特殊权限位后，就可以切换至一个普通用户，然后尝试在该目录中创建文件，并查看新创建的文件是否会继承新创建的文件所在的目录的所属组名称</span></span><br><span class="line">[chenhao@chen ~]$ cd /tmp/testdir/</span><br><span class="line">[chenhao@chen testdir]$ echo &quot;linux.com&quot; &gt; test</span><br><span class="line">[chenhao@chen testdir]$ ls -al test</span><br><span class="line">-rw-rw-r--. 1 chenhao chenhao 10 Apr 25 20:19 test</span><br><span class="line">[chenhao@chen testdir]$ </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>再介绍两个与本节内容相关的命令：chmod和chown</strong> </li>
<li><strong>chmod命令用于设置文件的一般权限及特殊权限</strong></li>
</ul>
<p><strong>语法格式：</strong> chmod [参数  文件] </p>
<ul>
<li><strong>常用参数：</strong></li>
</ul>
<table>
<thead>
<tr>
<th>-c</th>
<th>若该文件权限确实已经更改，才显示其更改动作</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>若该文件权限无法被更改也不显示错误讯息</td>
</tr>
<tr>
<td>-v</td>
<td>显示权限变更的详细资料</td>
</tr>
<tr>
<td>-R</td>
<td>对目前目录下的所有文件与子目录进行相同的权限变更(即以递回的方式逐个变更)</td>
</tr>
</tbody></table>
<p><strong>参考实例</strong></p>
<p>将档案 file1.txt 设为所有人皆可读取：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# mkdir file.txt</span><br><span class="line">[root@chen ~]# chmod a+r file.txt  </span><br></pre></td></tr></table></figure>

<p>将目前目录下的所有文件与子目录皆设为任何人可读取 :</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# chmod -R a+r *   </span><br></pre></td></tr></table></figure>

<p>将 file.txt 设定为只有该文件拥有者可以执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# chmod u+x file.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>chown命令 – 改变文件或目录用户和用户组</strong></li>
</ul>
<p><strong>语法格式：</strong>chown [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-R</th>
<th>对目前目录下的所有文件与子目录进行相同的拥有者变更</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>若该文件拥有者确实已经更改，才显示其更改动作</td>
</tr>
<tr>
<td>-f</td>
<td>若该文件拥有者无法被更改也不要显示错误讯息</td>
</tr>
<tr>
<td>-h</td>
<td>只对于连结(link)进行变更，而非该 link 真正指向的文件</td>
</tr>
<tr>
<td>-v</td>
<td>显示拥有者变更的详细资料</td>
</tr>
<tr>
<td>–help</td>
<td>显示辅助说明</td>
</tr>
<tr>
<td>–version</td>
<td>显示版本</td>
</tr>
</tbody></table>
<p><strong>参考实例</strong></p>
<p><strong>将test.txt文件用户组与用户都改为bin：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# ll test.txt.bz2 </span><br><span class="line">-rw-r--r-- 1 root root 56 Jul 22 20:17 test.txt.bz2</span><br><span class="line">[root@chen ~]# chown bin:bin test.txt.bz2    </span><br><span class="line">[root@chen ~]# ll test.txt.bz2</span><br><span class="line">-rw-r--r-- 1 bin bin 56 Jul 22 20:17 test.txt.bz2</span><br></pre></td></tr></table></figure>

<p><strong>显示改动动作：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# ll test.txt </span><br><span class="line">-rw-r--r-- 1 root root 45 Jul 22 21:11 test.txt</span><br><span class="line">[root@chen ~]# chown -c bin:bin test.txt </span><br><span class="line">changed ownership of `test.txt&#x27; to bin:bin</span><br></pre></td></tr></table></figure>

<p><strong>将当前目录下所有文件的拥有者都改为 chen，用户组改为 chengroup:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# chown -R chen:chengroup *  </span><br></pre></td></tr></table></figure>



<h3 id="5-3-3、SBIT"><a href="#5-3-3、SBIT" class="headerlink" title="5.3.3、SBIT"></a>5.3.3、SBIT</h3><p>SBIT特殊权限位可确保用户只能删除自己的文件，而不能删除其他用户的文件。换句话说，当对某个目录设置了SBIT粘滞位权限后，那么该目录中的文件就只能被其所有者执行删除操作了 </p>
<p>与前面所讲的SUID和SGID权限显示方法不同，当目录被设置SBIT特殊权限位后，文件的其他用户权限部分的x执行权限就会被替换成t或者T—原本有x执行权限则会写成t，原本没有x执行权限则会被写成T 。</p>
<p><strong>&#x2F;tmp目录上的SBIT权限默认已经存在，这体现为“其他用户”权限字段的权限变为rwt：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# ls -ald /tmp</span><br><span class="line">drwxrwxrwt. 75 root root 12288 Apr 25 20:38 /tmp</span><br></pre></td></tr></table></figure>

<p>文件能否被删除并不取决于自身的权限，而是看其所在目录是否有写入权限。为了避免现在很多读者不放心，所以下面的命令还是赋予了这个test文件最大的777权限（rwxrwxrwx） :</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# cd /tmp</span><br><span class="line">[root@chen tmp]# echo &quot;Welcome to linux&quot; &gt; test</span><br><span class="line">[root@chen tmp]# chmod 777 test</span><br><span class="line">[root@chen tmp]# ls -al test</span><br><span class="line">-rwxrwxrwx. 1 root root 17 Apr 25 20:41 test</span><br><span class="line">[root@chen tmp]# </span><br></pre></td></tr></table></figure>

<p>随后，切换到一个普通用户身份下，尝试删除这个由其他人创建的文件，这时就会发现，即便读、写、执行权限全开，但是由于SBIT特殊权限位的缘故，依然无法删除该文件： </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@chen tmp]# su - linux</span><br><span class="line">[linux@chen ~]$ cd /tmp</span><br><span class="line">[linux@chen tmp]$ rm -f test</span><br><span class="line">rm: cannot remove ‘test’: Operation not permitted</span><br><span class="line">[linux@chen tmp]$ </span><br></pre></td></tr></table></figure>

<ul>
<li>SUID、SGID、SBIT特殊权限的设置参数</li>
</ul>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">u+s</td>
<td align="center">设置SUID权限</td>
</tr>
<tr>
<td align="center">u-s</td>
<td align="center">取消SUID权限</td>
</tr>
<tr>
<td align="center">g+s</td>
<td align="center">设置SGID权限</td>
</tr>
<tr>
<td align="center">g-s</td>
<td align="center">取消SGID权限</td>
</tr>
<tr>
<td align="center">o+t</td>
<td align="center">设置SBIT权限</td>
</tr>
<tr>
<td align="center">o-t</td>
<td align="center">取消SBIT权限</td>
</tr>
</tbody></table>
<h2 id="5-4、文件的隐藏属性"><a href="#5-4、文件的隐藏属性" class="headerlink" title="5.4、文件的隐藏属性"></a>5.4、文件的隐藏属性</h2><p>Linux系统中的文件除了具备一般权限和特殊权限之外，还有一种隐藏权限，即被隐藏起来的权限，默认情况下不能直接被用户发觉 </p>
<p><strong>既然叫隐藏权限，那么使用常规的ls命令肯定不能看到它的真面目。隐藏权限的专用设置命令是chattr，专用查看命令是lsattr</strong> </p>
<h3 id="5-4-1、chattr命令"><a href="#5-4-1、chattr命令" class="headerlink" title="5.4.1、chattr命令"></a>5.4.1、chattr命令</h3><ul>
<li><p>chattr命令用于设置文件的隐藏权限，英文全称为change attributes,语法格式为”chattr [参数] 文件名称”。</p>
</li>
<li><p>想要把某个隐藏功能添加到文件上，则需要在命令后面追加“+参数”，如果想要把某个隐藏功能移出文件，则需要追加“-参数”。chattr命令中可供选择的隐藏权限参数非常丰富 </p>
</li>
<li><p>chattr命令中的参数及其作用</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>无法对文件进行修改；若对目录设置了该参数，则仅能修改其中的子文件内容而不能新建或删除文件</td>
</tr>
<tr>
<td>a</td>
<td>仅允许补充（追加）内容，无法覆盖&#x2F;删除内容（Append Only）</td>
</tr>
<tr>
<td>S</td>
<td>文件内容在变更后立即同步到硬盘（sync）</td>
</tr>
<tr>
<td>s</td>
<td>彻底从硬盘中删除，不可恢复（用0填充原文件所在硬盘区域）</td>
</tr>
<tr>
<td>A</td>
<td>不再修改这个文件或目录的最后访问时间（atime）</td>
</tr>
<tr>
<td>b</td>
<td>不再修改文件或目录的存取时间</td>
</tr>
<tr>
<td>D</td>
<td>检查压缩文件中的错误</td>
</tr>
<tr>
<td>d</td>
<td>使用dump命令备份时忽略本文件&#x2F;目录</td>
</tr>
<tr>
<td>c</td>
<td>默认将文件或目录进行压缩</td>
</tr>
<tr>
<td>u</td>
<td>当删除该文件后依然保留其在硬盘中的数据，方便日后恢复</td>
</tr>
<tr>
<td>t</td>
<td>让文件系统支持尾部合并（tail-merging）</td>
</tr>
<tr>
<td>x</td>
<td>可以直接访问压缩文件中的内容</td>
</tr>
</tbody></table>
<ul>
<li>我们新建一个普通文件，然后立即尝试删除</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# echo &quot;for Test&quot; &gt; test</span><br><span class="line">[root@chen ~]# rm test</span><br><span class="line">rm: remove regular file ‘test’? y</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<ul>
<li>接下来再次新建一个普通文件，并为其设置“不允许删除与覆盖”（+a参数）权限，然后再尝试将这个文件删除</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# echo &quot;for Test&quot; &gt; test</span><br><span class="line">[root@chen ~]# chattr +a test</span><br><span class="line">[root@chen ~]# rm test</span><br><span class="line">rm: remove regular file ‘test’? y</span><br><span class="line">rm: cannot remove ‘test’: Operation not permitted</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<h3 id="5-4-2、lsattr命令"><a href="#5-4-2、lsattr命令" class="headerlink" title="5.4.2、lsattr命令"></a>5.4.2、lsattr命令</h3><ul>
<li><p><strong>lsattr命令用于查看文件的隐藏权限，英文全称为“list attributes”，语法格式为“lsattr [参数] 文件名称”</strong></p>
</li>
<li><p>Linux系统中，文件的隐藏权限必须使用lsattr命令来查看，平时使用的ls之类的命令则看不出 ：</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# ls -al test</span><br><span class="line">-rw-r--r--. 1 root root 9 Apr 25 21:05 test</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>一旦使用lsattr命令后，文件上被赋予的隐藏权限马上就会原形毕露：</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# lsattr test</span><br><span class="line">-----a-------e-- test</span><br></pre></td></tr></table></figure>

<ul>
<li>此时按照显示的隐藏权限的类型（字母），使用chattr命令将其去掉：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# chattr -a test</span><br><span class="line">[root@chen ~]# lsattr test</span><br><span class="line">-------------e-- test</span><br><span class="line">[root@chen ~]# rm test</span><br><span class="line">rm: remove regular file ‘test’? y</span><br><span class="line">[root@chen ~]# ls</span><br><span class="line">chen  linux  test1  下载  公共  图片  文档  桌面  模板  视频  音乐</span><br><span class="line">[root@chen ~]#</span><br></pre></td></tr></table></figure>

<h2 id="5-5、文件访问控制列表"><a href="#5-5、文件访问控制列表" class="headerlink" title="5.5、文件访问控制列表"></a>5.5、文件访问控制列表</h2><p>不知道大家是否发现，前文讲解的一般权限、特殊权限、隐藏权限其实有一个共性—权限是针对某一类用户设置的，能够对很多人同时生效。如果希望对某个指定的用户进行单独的权限控制，就需要用到文件的访问控制列表（ACL）了。通俗来讲，基于普通文件或目录设置ACL其实就是针对指定的用户或用户组设置文件或目录的操作权限，更加精准地派发权限。另外，如果针对某个目录设置了ACL，则目录中的文件会继承其ACL权限；若针对文件设置了ACL，则文件不再继承其所在目录的ACL权限。</p>
<p><strong>为了更直观地看到ACL对文件权限控制的强大效果，我们先切换到普通用户，然后尝试进入root管理员的家目录中。在没有针对普通用户为root管理员的家目录设置ACL之前，其执行结果如下所示：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# su - linux</span><br><span class="line">Last login: Mon Apr 25 20:43:27 CST 2022 on pts/0</span><br><span class="line">[linux@chen ~]$ cd /root</span><br><span class="line">-bash: cd: /root: Permission denied</span><br><span class="line">[linux@chen ~]$ exit</span><br><span class="line">logout</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<h3 id="5-5-1、setfacl命令"><a href="#5-5-1、setfacl命令" class="headerlink" title="5.5.1、setfacl命令"></a>5.5.1、setfacl命令</h3><ul>
<li><strong>setafacl命令用于管理文件的ACL权限规则，英文名称为”set file ACL”,语法格式为”setfacl [参数] 文件名称”</strong></li>
</ul>
<p><strong>setfacl命令中的参数以及作用</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-m</td>
<td>修改权限</td>
</tr>
<tr>
<td>-M</td>
<td>从文件中读取权限</td>
</tr>
<tr>
<td>-x</td>
<td>删除某个权限</td>
</tr>
<tr>
<td>-b</td>
<td>删除全部权限</td>
</tr>
<tr>
<td>-R</td>
<td>递归子目录</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">原来我们无法进入/root目录中，下面来设置用户在/root 目录上的权限：</span></span><br><span class="line">[root@chen ~]# setfacl -Rm u:linux:rwx /root</span><br><span class="line">[root@chen ~]# su - linux</span><br><span class="line">Last login: Fri Apr 29 21:15:34 CST 2022 on pts/0</span><br><span class="line">[linux@chen ~]$ cd /root</span><br><span class="line">[linux@chen root]$ ls</span><br><span class="line">chen  linux  test1  下载  公共  图片  文档  桌面  模板  视频  音乐</span><br><span class="line">[linux@chen root]$ exit</span><br><span class="line">logout</span><br><span class="line">[root@chen ~]# ls -ld /root</span><br><span class="line">dr-xrwx---+ 18 root root 4096 Apr 29 21:15 /root</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<p><strong>我们如何查看文件是否设置了ACL呢？常用的ls命令时看不到ACL信息的，但是却可以看到文件权限的最后多了一个点(.)变成了加号(+)，这就意味着文件已设置了ACL。</strong></p>
<h3 id="5-5-2、getfacl命令"><a href="#5-5-2、getfacl命令" class="headerlink" title="5.5.2、getfacl命令"></a>5.5.2、getfacl命令</h3><ul>
<li>getfacl 命令用于显示文件上设置的 ACL 信息，格式为“getfacl 文件名称”</li>
</ul>
<p><strong>下面使用 getfacl 命令显示在 root 管理员家目录上设置的所有 ACL 信息</strong> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# getfacl /root</span><br><span class="line">getfacl: Removing leading &#x27;/&#x27; from absolute path names</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">file: root</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">owner: root</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">group: root</span></span><br><span class="line">user::r-x</span><br><span class="line">user:linux:rwx</span><br><span class="line">group::r-x</span><br><span class="line">mask::rwx</span><br><span class="line">other::---</span><br></pre></td></tr></table></figure>

<p><strong>ACL权限还可以针对某个用户组进行设置</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">允许某个组的用户都可以读写/etc/fstab文件</span></span><br><span class="line">[root@chen ~]# setfacl -m g:linux:rw /etc/fstab</span><br><span class="line">[root@chen ~]# getfacl /etc/fstab </span><br><span class="line">getfacl: Removing leading &#x27;/&#x27; from absolute path names</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">file: etc/fstab</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">owner: root</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">group: root</span></span><br><span class="line">user::rw-</span><br><span class="line">group::r--</span><br><span class="line">group:linux:rw-</span><br><span class="line">mask::rw-</span><br><span class="line">other::r--</span><br></pre></td></tr></table></figure>

<p><strong>设置错了想删除，清空所有的ACL权限，用-b参数；要删除某一条指定的权限按，就用-x参数：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# clear</span><br><span class="line">[root@chen ~]# setfacl -x g:linux /etc/fstab </span><br><span class="line">[root@chen ~]# getfacl /etc//fstab </span><br><span class="line">getfacl: Removing leading &#x27;/&#x27; from absolute path names</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">file: etc//fstab</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">owner: root</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">group: root</span></span><br><span class="line">user::rw-</span><br><span class="line">group::r--</span><br><span class="line">mask::r--</span><br><span class="line">other::r--</span><br></pre></td></tr></table></figure>

<p>ACL权限的设置都是立即且永久生效的，这也有安全隐患，如果我们不小心设置错了权限，就会覆盖掉文件原始的权限信息，并且找不回来。</p>
<p><strong>操作前备份一下。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">例如在备份/home目录上的ACL权限时，可使用-R递归参数，这样不仅能够把目录本身的权限进行备份，还能将里面的文件权限也自动备份</span></span><br><span class="line">[root@chen ~]# cd /</span><br><span class="line">[root@chen /]# getfacl -R home &gt; backup.acl</span><br><span class="line">[root@chen /]# ls -l</span><br><span class="line">total 108</span><br><span class="line">-rw-r--r--.   1 root root 22209 Apr 29 22:53 backup.acl</span><br></pre></td></tr></table></figure>

<p><strong>ACL权限的恢复也简单，使用–restore参数1</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@chen /]# setfacl --restore backup.acl</span><br></pre></td></tr></table></figure>



<h2 id="5-6、su-命令与-sudo-服务"><a href="#5-6、su-命令与-sudo-服务" class="headerlink" title="5.6、su 命令与 sudo 服务"></a>5.6、su 命令与 sudo 服务</h2><ul>
<li>su命令可以解决切换用户的问题</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从root管理员切换到普通用户</span></span><br><span class="line">[root@chen /]# cd ~</span><br><span class="line">[root@chen ~]# su - linux</span><br><span class="line">Last login: Fri Apr 29 21:16:26 CST 2022 on pts/0</span><br><span class="line">[linux@chen ~]$ id </span><br><span class="line">uid=1002(linux) gid=1002(linux) groups=1002(linux) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023</span><br><span class="line">[linux@chen ~]$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>细心的读者一定会发现，上面的 su 命令与用户名之间有一个减号（-），这意味着完全切换到新的用户，即把环境变量信息也变更为新用户的相应信息，而不是保留原始的信息。强烈建议在切换用户身份时添加这个减号（-）</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">普通用户切换成 root管理员就需要进行密码验证了</span></span><br><span class="line">[linux@chen ~]$ su - root</span><br><span class="line">Password: </span><br><span class="line">Last login: Fri Apr 29 22:29:12 CST 2022 from 192.168.200.1 on pts/1</span><br><span class="line">[root@chen ~]# </span><br></pre></td></tr></table></figure>

<ul>
<li>sudo 命令用于给普通用户提供额外的权限来完成原本 root 管理员才能完成的任务，格式 为“sudo [参数] 命令名称” </li>
<li>sudo 服务中的可用参数以及作用</li>
</ul>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-k</td>
<td align="center">强迫使用者在下一次执行 sudo 时问密码（不论有没有超过 N 分钟）</td>
</tr>
<tr>
<td align="center">-b</td>
<td align="center">将要执行的指令放在背景执行</td>
</tr>
<tr>
<td align="center">-p</td>
<td align="center">prompt 可以更改问密码的提示语，其中 %u 会代换为使用者的帐号名称，%h 会显示主机名称</td>
</tr>
<tr>
<td align="center">-s</td>
<td align="center">执行环境变数中的SHELL 所指定的shell ，或是 &#x2F;etc&#x2F;passwd 里所指定的 shell</td>
</tr>
<tr>
<td align="center">command</td>
<td align="center">要以系统管理者身份（或以 -u 更改为其他人）执行的指令</td>
</tr>
<tr>
<td align="center">-v</td>
<td align="center">因为 sudo 在第一次执行时或是在 N分钟内没有执行（N 预设为五）会问密码，这个参数是重新做一次确认，如果超过N分钟，也会问密码</td>
</tr>
<tr>
<td align="center">-h</td>
<td align="center">列出帮助信息</td>
</tr>
<tr>
<td align="center">-l</td>
<td align="center">列出当前用户可执行的命令</td>
</tr>
<tr>
<td align="center">-u</td>
<td align="center">用户名或 UID 值 以指定的用户身份执行命令</td>
</tr>
</tbody></table>
<p><strong>总结来说，sudo 命令具有如下功能：</strong> </p>
<ul>
<li>限制用户执行指定的命令： </li>
<li>记录用户执行的每一条命令； </li>
<li>配置文件（&#x2F;etc&#x2F;sudoers）提供集中的用户管理、权限与主机等参数；</li>
<li>验证密码的后 5 分钟内（默认值）无须再让用户再次验证密码</li>
</ul>
<h2 id="6、存储结构和管理硬盘"><a href="#6、存储结构和管理硬盘" class="headerlink" title="6、存储结构和管理硬盘"></a>6、存储结构和管理硬盘</h2><p><strong>Linux 系统中的文件存储结构开始，讲述文件系统层次化标准（FHS，Filesystem Hierarchy Standard）、udev硬件命名规则以及硬盘分区的规划方法。</strong></p>
<h3 id="6-1、一切从”-x2F-“开始"><a href="#6-1、一切从”-x2F-“开始" class="headerlink" title="6.1、一切从”&#x2F;“开始"></a>6.1、一切从”&#x2F;“开始</h3><p>在 Linux 系统中，目录、字符设备、块设备、套接字、打印机等都被抽象成了文件，另外，Linux<br>系统中的文件和目录名称是严格区分大小写的。例如，root、rOOt、Root、rooT 均代表不同的目<br>录，并且文件名称中不得包含斜杠（&#x2F;）。Linux 系统中的文件存储结构如图所示。</p>
<p><img src="/../../../../../Note/MDNote/%25E5%25B0%258F%25E8%25B1%25AA%25E5%25AD%25A6Linux.assets/1651642416947.png" alt="1651642416947"></p>
<p> <strong>前文提到的FHS 是根据以往无数Linux 系统用户和开发者的经验而总结出来的，是用户在Linux 系统中存储文件时需要遵守的规则，用于指导我们应该把文件保存到什么位置，以及告诉用户应该在何处找到所需的文件</strong></p>
<ul>
<li>Linux系统中常见的目录名称以及相应内容<ul>
<li><strong>&#x2F;boot 		      开机所需文件—内核、开机菜单以及所需配置文件等</strong></li>
<li><strong>&#x2F;dev    		      以文件形式存放任何设备与接口</strong></li>
<li><strong>&#x2F;etc     	              配置文件</strong></li>
<li><strong>&#x2F;home                  用户家目录</strong></li>
<li><strong>&#x2F;bin                       存放单用户模式下还可以操作的命令</strong></li>
<li><strong>&#x2F;lib                         开机时用到的函数库，以及&#x2F;bin 与&#x2F;sbin 下面的命令要调用的函数</strong></li>
<li><strong>&#x2F;sbin                      开机过程中需要的命令</strong></li>
<li><strong>&#x2F;media                  用于挂载设备文件的目录</strong></li>
<li><strong>&#x2F;opt                       放置第三方的软件</strong></li>
<li><strong>&#x2F;root                      系统管理员的家目录</strong></li>
<li><strong>&#x2F;srv                        一些网络服务的数据文件目录</strong></li>
<li><strong>&#x2F;tmp                      任何人均可使用的“共享”临时目录</strong></li>
<li><strong>&#x2F;proc                      虚拟文件系统，例如系统内核、进程、外部设备及网络状态等</strong></li>
<li><strong>&#x2F;usr&#x2F;local              用户自行安装的软件</strong></li>
<li><strong>&#x2F;usr&#x2F;sbin Linux   系统开机时不会使用到的软件&#x2F;命令&#x2F;脚本</strong></li>
<li><strong>&#x2F;usr&#x2F;share           帮助与说明文件，也可放置共享文件</strong></li>
<li><strong>&#x2F;var                       主要存放经常变化的文件，如日志</strong></li>
<li><strong>&#x2F;lost+found          当文件系统发生错误时，将一些丢失的文件片段存放在这里</strong></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@chen /]# ls -l</span><br><span class="line">总用量 108</span><br><span class="line">lrwxrwxrwx.   1 root root     7 3月  25 03:00 bin -&gt; usr/bin</span><br><span class="line">dr-xr-xr-x.   6 root root  4096 4月  19 21:03 boot</span><br><span class="line">drwxr-xr-x.   3 root root  4096 4月  19 20:13 chen</span><br><span class="line">drwxr-xr-x.  19 root root  3280 5月   4 13:24 dev</span><br><span class="line">drwxr-xr-x. 146 root root 12288 5月   4 13:24 etc</span><br><span class="line">drwxr-xr-x.   8 root root  4096 4月  25 20:15 home</span><br><span class="line">lrwxrwxrwx.   1 root root     7 3月  25 03:00 lib -&gt; usr/lib</span><br><span class="line">lrwxrwxrwx.   1 root root     9 3月  25 03:00 lib64 -&gt; usr/lib64</span><br><span class="line">drwx------.   2 root root 16384 3月  25 03:00 lost+found</span><br><span class="line">drwxr-xr-x.   3 root root  4096 4月  18 18:18 media</span><br><span class="line">drwxr-xr-x.   2 root root  4096 4月  11 2018 mnt</span><br><span class="line">drwxr-xr-x.   3 root root  4096 3月  25 03:05 opt</span><br><span class="line">dr-xr-xr-x. 229 root root     0 5月   4 13:24 proc</span><br><span class="line">dr-xrwx---+  18 root root  4096 4月  29 22:29 root</span><br><span class="line">drwxr-xr-x.  45 root root  1300 5月   4 13:24 run</span><br><span class="line">lrwxrwxrwx.   1 root root     8 3月  25 03:00 sbin -&gt; usr/sbin</span><br><span class="line">drwxr-xr-x.   2 root root  4096 4月  11 2018 srv</span><br><span class="line">dr-xr-xr-x.  13 root root     0 5月   4 13:24 sys</span><br><span class="line">drwxrwxrwt.  38 root root 12288 5月   4 13:40 tmp</span><br><span class="line">drwxr-xr-x.  13 root root  4096 3月  25 03:00 usr</span><br><span class="line">drwxr-xr-x.  22 root root  4096 4月  18 18:23 var</span><br></pre></td></tr></table></figure>

<p>在Linux系统中还有另外一个重要的概念—路径。路径是指如何定位到某个文件，分为<strong>相对路径与绝对路径</strong></p>
<p>绝对路径指的是从根目录（&#x2F;）开始写起的文件或目录名称，而相对路径则指的是相对于当前路径的写法。</p>
<h3 id="6-2、物理设备的命名规则"><a href="#6-2、物理设备的命名规则" class="headerlink" title="6.2、物理设备的命名规则"></a>6.2、物理设备的命名规则</h3><p>在 Linux 系统中一切都是文件，硬件设备也不例外。既然是文件，就必须有文件名称。<br>系统内核中的udev 设备管理器会自动把硬件名称规范起来，目的是让用户通过设备文件的名<br>字可以猜出设备大致的属性以及分区信息等；这对于陌生的设备来说特别方便。</p>
<ul>
<li>常见的硬件设备及其文件名称<ul>
<li>IDE设备                      &#x2F;dev&#x2F;hd[a-d]</li>
<li>SCSI&#x2F;SATA&#x2F;U盘          &#x2F;dev&#x2F;sd[a-p]</li>
<li>软驱                            &#x2F;dev&#x2F;fd[0-1]</li>
<li>打印机                        &#x2F;dev&#x2F;lp[0-15]</li>
<li>光驱                            &#x2F;dev&#x2F;cdrom</li>
<li>鼠标                            &#x2F;dev&#x2F;mouse</li>
<li>磁带机                        &#x2F;dev&#x2F;st0 或&#x2F;dev&#x2F;ht0</li>
</ul>
</li>
</ul>
<p>由于现在的 IDE 设备已经很少见了，所以一般的<strong>硬盘设备都会是以“&#x2F;dev&#x2F;sd”开头的</strong>。<br>而一台主机上可以有多块硬盘，因此<strong>系统采用a～p 来代表16 块不同的硬盘（默认从a 开始</strong><br><strong>分配</strong>），而且硬盘的分区编号也很有讲究：</p>
<ul>
<li>主分区或扩展分区的编号从 1 开始，到4 结束；</li>
<li>逻辑分区从编号 5 开始。</li>
</ul>
<p><strong>&#x2F;dev 目录中sda 设备之所以是a，并不是由插槽决定的，而是由系统内核的识别顺序来决定的，而恰巧很多主板的插槽顺序就是系统内核的识别顺序，因此才会被命名为&#x2F;dev&#x2F;sda</strong></p>
<p><strong>sda3 只能表示是编号为3 的分区，而不能判断sda 设备上已经存在了3 个分区</strong></p>
<h3 id="6-3、文件系统与数据资料"><a href="#6-3、文件系统与数据资料" class="headerlink" title="6.3、文件系统与数据资料"></a>6.3、文件系统与数据资料</h3><p>用户在硬件存储设备中执行的文件建立、写入、读取、修改、转存与控制等操作都是依<br>靠文件系统来完成的</p>
<p>Linux系统支持数十种的文件系统，而最常见的文件系统如下所示</p>
<ul>
<li><strong>Ext3</strong>：是一款日志文件系统，能够在系统异常宕机时避免文件系统资料丢失，并<br>能自动修复数据的不一致与错误。然而，当硬盘容量较大时，所需的修复时间也<br>会很长，而且也不能百分之百地保证资料不会丢失。它会把整个磁盘的每个写入<br>动作的细节都预先记录下来，以便在发生异常宕机后能回溯追踪到被中断的部分，<br>然后尝试进行修复。</li>
<li><strong>Ext4</strong>：Ext3 的改进版本，作为RHEL 6 系统中的默认文件管理系统，它支持的存储容<br>量高达1EB（1EB&#x3D;1,073,741,824GB），且能够有无限多的子目录。另外，Ext4 文件系<br>统能够批量分配block 块，从而极大地提高了读写效率。</li>
<li><strong>XFS</strong>：是一种高性能的日志文件系统，而且是RHEL 7 中默认的文件管理系统，它的<br>优势在发生意外宕机后尤其明显，即可以快速地恢复可能被破坏的文件，而且强大的<br>日志功能只用花费极低的计算和存储性能。并且它最大可支持的存储容量为18EB，<br>这几乎满足了所有需求。</li>
</ul>
<h3 id="6-4、挂载硬件设备"><a href="#6-4、挂载硬件设备" class="headerlink" title="6.4、挂载硬件设备"></a>6.4、挂载硬件设备</h3><p>接下来我们会逐一学习在Linux 系统中挂载和卸载存储设备的方法，以便大家更好地了解Linux 系统添加硬件设备的工作原理和流程</p>
<h4 id="6-4-1、mount命令"><a href="#6-4-1、mount命令" class="headerlink" title="6.4.1、mount命令"></a>6.4.1、mount命令</h4><ul>
<li><strong>mount 命令用于挂载文件系统，格式为“mount 文件系统挂载目录”</strong></li>
<li><strong>mount命令中的参数以及作用</strong><ul>
<li><strong>-a      挂载所有在&#x2F;etc&#x2F;fstab 中定义的文件系统</strong></li>
<li><strong>-t       指定文件系统的类型</strong>\</li>
</ul>
</li>
</ul>
<p>要把设备&#x2F;dev&#x2F;sda2 挂载到&#x2F;backup 目录，只需要在mount 命令中填写设备与挂载目录参数就行，系统会自动去判断要挂载文件的类型，因此只需要执行下述命令即可:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@chen ~]# mount /dev/sda2 /backup</span><br></pre></td></tr></table></figure>

<p>按照上面的方法执行mount 命令后就能立即使用文件系统了，但系统在重启后挂载就会失效，也就是说我们需要每次开机后都手动挂载一下。永久关联就必须把挂载信息按照指定的填写格式“设备文件挂载目录 格式类型权限选项自检 优先级”写入到&#x2F;etc&#x2F;fstab 文件中。</p>
<ul>
<li>用于挂载信息的指定填写格式中，各字段所表示的意义</li>
</ul>
<table>
<thead>
<tr>
<th align="center">字段</th>
<th align="center">意义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">设备文件</td>
<td align="center">一般为设备的路径+设备名称，也可以写唯一识别码（UUID，Universally Unique Identifier）</td>
</tr>
<tr>
<td align="center">挂载目录</td>
<td align="center">指定要挂载到的目录，需在挂载前创建好</td>
</tr>
<tr>
<td align="center">格式类型</td>
<td align="center">指定文件系统的格式，比如 Ext3、Ext4、XFS、SWAP、iso9660（此为光盘设备）等</td>
</tr>
<tr>
<td align="center">权限选项</td>
<td align="center">若设置为 defaults，则默认权限为：rw, suid, dev, exec, auto, nouser, async</td>
</tr>
<tr>
<td align="center">自检</td>
<td align="center">若为 1 则开机后进行磁盘自检，为0 则不自检</td>
</tr>
<tr>
<td align="center">优先级</td>
<td align="center">若“自检”字段为 1，则可对多块硬盘进行自检优先级设置</td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/post/dcf429be.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="java小豪">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="java小豪">
      <meta itemprop="description" content="java小豪的小破站">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | java小豪">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/dcf429be.html" class="post-title-link" itemprop="url">Linux_安装Mysql的错误</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-08-24 02:03:02 / 修改时间：02:53:23" itemprop="dateCreated datePublished" datetime="2022-08-24T02:03:02+08:00">2022-08-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">操作系统</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>919</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Linux-Centos7在安装Mysql常见错误依赖时失败"><a href="#Linux-Centos7在安装Mysql常见错误依赖时失败" class="headerlink" title="Linux_Centos7在安装Mysql常见错误依赖时失败"></a>Linux_Centos7在安装Mysql常见错误依赖时失败</h1><h2 id="MySql安装问题"><a href="#MySql安装问题" class="headerlink" title="MySql安装问题"></a>MySql安装问题</h2><h3 id="问题一-Centos7在安装Mysql依赖-libs-或客户端-client-时失败"><a href="#问题一-Centos7在安装Mysql依赖-libs-或客户端-client-时失败" class="headerlink" title="问题一:Centos7在安装Mysql依赖(libs)或客户端(client)时失败"></a>问题一:Centos7在安装Mysql依赖(libs)或客户端(client)时失败</h3><h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><h3 id="问题二-Centos7在安装Mysql服务器-server-时失败"><a href="#问题二-Centos7在安装Mysql服务器-server-时失败" class="headerlink" title="问题二:Centos7在安装Mysql服务器(server)时失败"></a>问题二:Centos7在安装Mysql服务器(server)时失败</h3><h4 id="解决方案-1"><a href="#解决方案-1" class="headerlink" title="解决方案"></a>解决方案</h4><h3 id="问题一-Centos7在安装Mysql依赖-libs-或客户端-client-时失败-1"><a href="#问题一-Centos7在安装Mysql依赖-libs-或客户端-client-时失败-1" class="headerlink" title="问题一:Centos7在安装Mysql依赖(libs)或客户端(client)时失败"></a>问题一:Centos7在安装Mysql依赖(libs)或客户端(client)时失败</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">warning: mysql-community-libs-8.0.28-1.el7.x86_64.rpm: Header V4 RSA/SHA256 Signature, key ID 3a79bd29: NOKEY</span><br><span class="line">error: Failed dependencies:</span><br><span class="line">	mariadb-libs is obsoleted by mysql-community-libs-8.0.28-1.el7.x86_64</span><br></pre></td></tr></table></figure>

<h4 id="解决方案-2"><a href="#解决方案-2" class="headerlink" title="解决方案"></a>解决方案</h4><ul>
<li>先卸载mysql-libs</li>
<li>再执行安装</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">先卸载mysql-libs</span></span><br><span class="line">yum remove mysql-libs</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再执行安装</span></span><br><span class="line">rpm -ivh mysql-community-libs-8.0.28-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>

<h3 id="问题二-Centos7在安装Mysql服务器-server-时失败-1"><a href="#问题二-Centos7在安装Mysql服务器-server-时失败-1" class="headerlink" title="问题二:Centos7在安装Mysql服务器(server)时失败"></a>问题二:Centos7在安装Mysql服务器(server)时失败</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">warning: mysql-community-server-8.0.28-1.el7.x86_64.rpm: Header V4 RSA/SHA256 Signature, key ID 3a79bd29: NOKEY</span><br><span class="line">error: Failed dependencies:</span><br><span class="line">	mysql-community-icu-data-files = 8.0.28-1.el7 is needed by mysql-community-server-8.0.28-1.el7.x86_64</span><br></pre></td></tr></table></figure>

<h4 id="解决方案-3"><a href="#解决方案-3" class="headerlink" title="解决方案"></a>解决方案</h4><ul>
<li>解决的方法就是在rpm 语句后面加上 –nodeps –force，安装时忽略依赖关系</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在rpm -ivh mysql-community-server-8.0.28-1.el7.x86_64.rpm 添加参数--force --nodeps</span></span><br><span class="line">rpm -ivh mysql-community-server-8.0.28-1.el7.x86_64.rpm --force --nodeps</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/post/4a17b156.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="java小豪">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="java小豪">
      <meta itemprop="description" content="java小豪的小破站">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | java小豪">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/4a17b156.html" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-08-24 00:48:09 / 修改时间：02:53:23" itemprop="dateCreated datePublished" datetime="2022-08-24T00:48:09+08:00">2022-08-24</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>367</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">java小豪</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">49k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">45 分钟</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  





  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"all","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
